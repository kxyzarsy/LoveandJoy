module.exports=[38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},58993,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(38246),f=a.i(25118);let g=[{id:1,content:"这是一条很好的评论，内容很有价值！",createdAt:new Date().toISOString(),author:{id:2,name:"用户1",avatar:"https://via.placeholder.com/100"},post:{id:1,title:"欢迎来到我的博客"},isApproved:!0},{id:2,content:"我有不同的看法，我认为...",createdAt:new Date(Date.now()-36e5).toISOString(),author:{id:3,name:"用户2",avatar:"https://via.placeholder.com/100"},post:{id:2,title:"Next.js 入门指南"},isApproved:!0},{id:3,content:"这篇文章写得真好，学到了很多！",createdAt:new Date(Date.now()-72e5).toISOString(),author:{id:4,name:"用户3",avatar:"https://via.placeholder.com/100"},post:{id:1,title:"欢迎来到我的博客"},isApproved:!1},{id:4,content:"期待更多这样的内容！",createdAt:new Date(Date.now()-108e5).toISOString(),author:{id:5,name:"用户4",avatar:"https://via.placeholder.com/100"},post:{id:3,title:"Tailwind CSS 实用技巧"},isApproved:!0}];function h(){let a=(0,d.useRouter)(),[h,i]=(0,c.useState)(g),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)(g),[n,o]=(0,c.useState)("");return(0,c.useEffect)(()=>{let b=()=>{let b=f.adminAuth.isAuthenticated(),c=f.adminAuth.getCurrentUser();if(!b||!c||"admin"!==c.role)return void a.push("/admin/secret-login")};return b(),(0,f.listenToAdminStateChanges)(b)},[a]),(0,c.useEffect)(()=>{if(""===j.trim())m(h);else{let a=j.toLowerCase();m(h.filter(b=>b.content.toLowerCase().includes(a)||b.author.name.toLowerCase().includes(a)||b.post.title.toLowerCase().includes(a)))}},[j,h]),(0,b.jsx)("div",{className:"min-h-[calc(100vh-200px)] bg-gray-50",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"评论管理"}),(0,b.jsx)("div",{className:"flex items-center gap-4",children:(0,b.jsx)(e.default,{href:"/admin",className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-md text-sm font-medium transition-colors",children:"返回后台"})})]}),n&&(0,b.jsx)("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-md mb-6",children:n}),(0,b.jsx)("div",{className:"mb-8",children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:"text",placeholder:"搜索评论内容、用户名或文章标题...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:j,onChange:a=>k(a.target.value)}),(0,b.jsx)("div",{className:"absolute right-3 top-3",children:(0,b.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})}),(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,b.jsx)("thead",{className:"bg-gray-50",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),(0,b.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"评论内容"}),(0,b.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"作者"}),(0,b.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"文章"}),(0,b.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"发布时间"}),(0,b.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"状态"}),(0,b.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"操作"})]})}),(0,b.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(a=>(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:a.id}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(0,b.jsx)("div",{className:"line-clamp-2",children:a.content})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-full overflow-hidden mr-2",children:(0,b.jsx)("img",{src:a.author.avatar,alt:a.author.name,className:"w-full h-full object-cover"})}),(0,b.jsx)("span",{className:"text-sm font-medium text-gray-900",children:a.author.name})]})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,b.jsx)(e.default,{href:`/posts/${a.post.id}`,className:"text-blue-600 hover:underline",children:a.post.title})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(a.createdAt).toLocaleString()}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsx)("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${a.isApproved?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:a.isApproved?"已审核":"待审核"})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{onClick:()=>{var b;let c;return b=a.id,void(i(c=h.map(a=>a.id===b?{...a,isApproved:!a.isApproved}:a)),m(c),o("评论状态已更新"),setTimeout(()=>o(""),3e3))},className:`${a.isApproved?"text-yellow-600 hover:text-yellow-900":"text-green-600 hover:text-green-900"}`,children:a.isApproved?"取消审核":"审核通过"}),(0,b.jsx)("button",{onClick:()=>(a=>{if(confirm("确定要删除这条评论吗？")){let b=h.filter(b=>b.id!==a);i(b),m(b),o("评论已删除"),setTimeout(()=>o(""),3e3)}})(a.id),className:"text-red-600 hover:text-red-900",children:"删除"})]})})]},a.id))})]})}),0===l.length&&(0,b.jsxs)("div",{className:"px-6 py-12 text-center",children:[(0,b.jsx)("svg",{className:"w-12 h-12 text-gray-400 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"没有找到评论"}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:j?"尝试调整搜索条件":"还没有评论"})]})]})]})})}a.s(["default",()=>h])}];

//# sourceMappingURL=_e7795290._.js.map