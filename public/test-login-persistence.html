<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç™»å½•çŠ¶æ€æŒä¹…åŒ–æµ‹è¯•</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        .test-section {
            margin: 20px 0;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        .test-result {
            margin: 10px 0;
            padding: 10px;
            border-radius: 5px;
        }
        .success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .error {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .info {
            background-color: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }
        button {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background-color: #0056b3;
        }
        .storage-item {
            margin: 5px 0;
            padding: 5px;
            background-color: #f8f9fa;
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <h1>ç™»å½•çŠ¶æ€æŒä¹…åŒ–æµ‹è¯•</h1>
    <p>æœ¬æµ‹è¯•ç”¨äºéªŒè¯ç™»å½•çŠ¶æ€æŒä¹…åŒ–ä¿®å¤æ˜¯å¦æœ‰æ•ˆã€‚</p>

    <div class="test-section">
        <h2>1. æœ¬åœ°å­˜å‚¨çŠ¶æ€æ£€æŸ¥</h2>
        <div id="storage-status"></div>
        <button onclick="checkStorage()">æ£€æŸ¥å­˜å‚¨çŠ¶æ€</button>
    </div>

    <div class="test-section">
        <h2>2. æ¨¡æ‹Ÿç™»å½•æµ‹è¯•</h2>
        <p>ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®æ¨¡æ‹Ÿç™»å½•ï¼Œç„¶ååˆ·æ–°é¡µé¢ï¼Œæ£€æŸ¥ç™»å½•çŠ¶æ€æ˜¯å¦ä¿æŒã€‚</p>
        <button onclick="simulateLogin()">æ¨¡æ‹Ÿç™»å½•</button>
        <button onclick="simulateLogout()">æ¨¡æ‹Ÿé€€å‡º</button>
        <div id="login-status"></div>
    </div>

    <div class="test-section">
        <h2>3. é¡µé¢åˆ·æ–°æµ‹è¯•</h2>
        <p>1. ç‚¹å‡»"æ¨¡æ‹Ÿç™»å½•"æŒ‰é’®</p>
        <p>2. åˆ·æ–°é¡µé¢ï¼ˆF5æˆ–æµè§ˆå™¨åˆ·æ–°æŒ‰é’®ï¼‰</p>
        <p>3. æ£€æŸ¥"æœ¬åœ°å­˜å‚¨çŠ¶æ€"ï¼Œç¡®è®¤ç™»å½•çŠ¶æ€ä»ç„¶å­˜åœ¨</p>
        <div class="info">
            <strong>é¢„æœŸç»“æœï¼š</strong>åˆ·æ–°é¡µé¢åï¼Œç™»å½•çŠ¶æ€åº”ä¿æŒä¸å˜ï¼ŒlocalStorageä¸­åº”åŒ…å«isLoggedInå’Œuseræ•°æ®ã€‚
        </div>
    </div>

    <div class="test-section">
        <h2>4. è·¨æ ‡ç­¾é¡µæµ‹è¯•</h2>
        <p>1. åœ¨å½“å‰æ ‡ç­¾é¡µç‚¹å‡»"æ¨¡æ‹Ÿç™»å½•"æŒ‰é’®</p>
        <p>2. æ‰“å¼€ä¸€ä¸ªæ–°çš„æµè§ˆå™¨æ ‡ç­¾é¡µï¼Œè®¿é—®åŒä¸€é¡µé¢</p>
        <p>3. æ£€æŸ¥æ–°æ ‡ç­¾é¡µä¸­çš„"æœ¬åœ°å­˜å‚¨çŠ¶æ€"</p>
        <div class="info">
            <strong>é¢„æœŸç»“æœï¼š</strong>æ–°æ ‡ç­¾é¡µåº”æ˜¾ç¤ºç›¸åŒçš„ç™»å½•çŠ¶æ€ï¼ŒlocalStorageæ•°æ®åœ¨æ ‡ç­¾é¡µé—´å…±äº«ã€‚
        </div>
    </div>

    <div class="test-section">
        <h2>5. æµè§ˆå™¨é‡å¯æµ‹è¯•</h2>
        <p>1. ç‚¹å‡»"æ¨¡æ‹Ÿç™»å½•"æŒ‰é’®</p>
        <p>2. å…³é—­æµè§ˆå™¨</p>
        <p>3. é‡æ–°æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®åŒä¸€é¡µé¢</p>
        <p>4. æ£€æŸ¥"æœ¬åœ°å­˜å‚¨çŠ¶æ€"</p>
        <div class="info">
            <strong>é¢„æœŸç»“æœï¼š</strong>æµè§ˆå™¨é‡å¯åï¼Œç™»å½•çŠ¶æ€åº”ä¿æŒä¸å˜ï¼ŒlocalStorageæ•°æ®æŒä¹…åŒ–å­˜å‚¨ã€‚
        </div>
    </div>

    <script>
        // é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨æ£€æŸ¥å­˜å‚¨çŠ¶æ€
        window.onload = function() {
            checkStorage();
        };

        // æ£€æŸ¥å­˜å‚¨çŠ¶æ€
        function checkStorage() {
            const storageStatus = document.getElementById('storage-status');
            const isLoggedIn = localStorage.getItem('isLoggedIn');
            const user = localStorage.getItem('user');
            
            let html = '<h3>æœ¬åœ°å­˜å‚¨å†…å®¹ï¼š</h3>';
            
            // åˆ—å‡ºæ‰€æœ‰localStorageé¡¹
            for (let i = 0; i < localStorage.length; i++) {
                const key = localStorage.key(i);
                const value = localStorage.getItem(key);
                html += `<div class="storage-item"><strong>${key}:</strong> ${value}</div>`;
            }
            
            html += '<h3>ç™»å½•çŠ¶æ€åˆ†æï¼š</h3>';
            
            if (isLoggedIn === 'true' && user) {
                html += '<div class="success">âœ… ç™»å½•çŠ¶æ€å·²ä¿å­˜ï¼ŒlocalStorageä¸­åŒ…å«å®Œæ•´çš„ç™»å½•ä¿¡æ¯</div>';
                html += `<div class="info">ç”¨æˆ·ä¿¡æ¯ï¼š${user}</div>`;
            } else if (isLoggedIn === 'true' && !user) {
                html += '<div class="error">âŒ ç™»å½•çŠ¶æ€å·²ä¿å­˜ï¼Œä½†ç¼ºå°‘ç”¨æˆ·ä¿¡æ¯</div>';
            } else if (!isLoggedIn && user) {
                html += '<div class="error">âŒ å­˜åœ¨ç”¨æˆ·ä¿¡æ¯ï¼Œä½†ç™»å½•çŠ¶æ€æœªä¿å­˜</div>';
            } else {
                html += '<div class="info">ğŸ” æœªæ£€æµ‹åˆ°ç™»å½•çŠ¶æ€ï¼ŒlocalStorageä¸­æ²¡æœ‰ç™»å½•ç›¸å…³æ•°æ®</div>';
            }
            
            storageStatus.innerHTML = html;
        }

        // æ¨¡æ‹Ÿç™»å½•
        function simulateLogin() {
            const loginStatus = document.getElementById('login-status');
            
            // ä¿å­˜ç™»å½•çŠ¶æ€åˆ°localStorage
            localStorage.setItem('isLoggedIn', 'true');
            
            // è®¾ç½®ç”¨æˆ·æ•°æ®
            const userData = {
                id: 1,
                name: 'æµ‹è¯•ç”¨æˆ·',
                email: 'test@example.com',
                avatar: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop'
            };
            
            localStorage.setItem('user', JSON.stringify(userData));
            
            loginStatus.innerHTML = '<div class="success">âœ… æ¨¡æ‹Ÿç™»å½•æˆåŠŸï¼Œç™»å½•çŠ¶æ€å·²ä¿å­˜åˆ°localStorage</div>';
            
            // æ›´æ–°å­˜å‚¨çŠ¶æ€æ˜¾ç¤º
            checkStorage();
        }

        // æ¨¡æ‹Ÿé€€å‡º
        function simulateLogout() {
            const loginStatus = document.getElementById('login-status');
            
            // æ¸…é™¤ç™»å½•çŠ¶æ€
            localStorage.removeItem('isLoggedIn');
            localStorage.removeItem('user');
            
            loginStatus.innerHTML = '<div class="success">âœ… æ¨¡æ‹Ÿé€€å‡ºæˆåŠŸï¼Œç™»å½•çŠ¶æ€å·²æ¸…é™¤</div>';
            
            // æ›´æ–°å­˜å‚¨çŠ¶æ€æ˜¾ç¤º
            checkStorage();
        }
    </script>
</body>
</html>