module.exports=[38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},17308,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246);function e({params:a}){let e=parseInt((0,c.use)(a).id),[f,g]=(0,c.useState)(null),[h,i]=(0,c.useState)(!0),[j,k]=(0,c.useState)(null);(0,c.useEffect)(()=>{(async()=>{i(!0),k(null);try{let a=await fetch("/api/posts");if(!a.ok)throw Error("Failed to fetch posts");let b=(await a.json()).map(a=>({...a,status:a.status||"published",likes:a.likes||0})).find(a=>a.id===e);b?g(b):k("文章不存在")}catch(a){console.error("Error fetching post:",a),k("加载文章失败")}finally{i(!1)}})()},[e]);let l=async()=>{if(f)try{let a=await fetch("/api/posts");if(!a.ok)throw Error("Failed to fetch posts");(await a.json()).map(a=>a.id===f.id?{...a,likes:a.likes+1}:a),g({...f,likes:f.likes+1})}catch(a){console.error("Error updating likes:",a)}};return h?(0,b.jsx)("div",{className:"flex justify-center items-center py-12",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):j||!f?(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:j||"文章不存在"}),(0,b.jsxs)(d.default,{href:"/",className:"inline-flex items-center text-blue-600 font-medium hover:text-blue-800 transition-colors",children:["返回首页",(0,b.jsx)("svg",{className:"ml-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})]})]}):(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("article",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[f.image&&(0,b.jsxs)("div",{className:"relative h-80 overflow-hidden",children:[(0,b.jsx)("img",{src:f.image,alt:f.title,className:"w-full h-full object-cover"}),(0,b.jsx)("div",{className:"absolute top-4 left-4",children:(0,b.jsx)(d.default,{href:`/categories/${f.category?.slug||"uncategorized"}`,className:"bg-blue-100 text-blue-800 text-xs font-medium px-3 py-1 rounded-full hover:bg-blue-200 transition-colors",children:f.category?.name||"未分类"})})]}),(0,b.jsxs)("div",{className:"p-8",children:[(0,b.jsxs)("div",{className:"flex items-center text-sm text-gray-500 mb-4",children:[(0,b.jsxs)("span",{className:"flex items-center",children:[(0,b.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),new Date(f.createdAt).toLocaleDateString()]}),(0,b.jsx)("span",{className:"mx-2",children:"•"}),(0,b.jsxs)("span",{className:"flex items-center",children:[(0,b.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),f.author?.name||"未知作者"]})]}),(0,b.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:f.title}),(0,b.jsx)("div",{className:"text-gray-700 mb-8 whitespace-pre-wrap",children:f.content}),(0,b.jsxs)("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-gray-200",children:[(0,b.jsxs)("button",{onClick:l,className:"inline-flex items-center text-gray-500 hover:text-red-600 transition-colors group",children:[(0,b.jsx)("svg",{className:"w-5 h-5 mr-2 transition-transform group-hover:scale-110",fill:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})}),(0,b.jsxs)("span",{children:[f.likes," 点赞"]})]}),(0,b.jsxs)(d.default,{href:"/",className:"inline-flex items-center text-blue-600 font-medium hover:text-blue-800 transition-colors",children:["返回首页",(0,b.jsx)("svg",{className:"ml-2 h-4 w-4 transition-transform group-hover:translate-x-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})]})]})]})]}),(0,b.jsxs)("section",{className:"bg-white rounded-xl shadow-sm p-8",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"相关文章"}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(0,b.jsx)("div",{className:"col-span-full text-center py-8",children:(0,b.jsxs)(d.default,{href:"/",className:"inline-flex items-center text-blue-600 font-medium hover:text-blue-800 transition-colors",children:[(0,b.jsx)("svg",{className:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"查看更多文章"]})})})]})]})}a.s(["default",()=>e])}];

//# sourceMappingURL=_577d43d5._.js.map