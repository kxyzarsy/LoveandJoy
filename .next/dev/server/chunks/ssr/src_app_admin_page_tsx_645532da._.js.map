{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/MyBlog/LoveandJoy/src/app/admin/page.tsx"],"sourcesContent":["'use client'\r\n\r\nimport React, { useEffect, useState } from 'react'\r\nimport Link from 'next/link'\r\nimport { useRouter } from 'next/navigation'\r\nimport { adminAuth, listenToAdminStateChanges, getAdminHeaders } from '../../utils/admin-state-manager'\r\n\r\n// 类型定义\r\ninterface Post {\r\n  id: number\r\n  title: string\r\n  excerpt: string\r\n  content: string\r\n  categoryId: number\r\n  image: string\r\n  status: 'published' | 'pending' | 'rejected'\r\n  foundSensitiveWords: string[]\r\n  createdAt: string\r\n  authorId: number\r\n  reviewedBy: number | null\r\n  reviewedAt: string | null\r\n  rejectionReason: string | null\r\n}\r\n\r\ninterface User {\r\n  id: number\r\n  name: string\r\n  username: string\r\n  email: string\r\n  avatar: string\r\n  bio: string\r\n  createdAt: string\r\n  role: 'admin' | 'user'\r\n}\r\n\r\ninterface Category {\r\n  id: number\r\n  name: string\r\n  slug: string\r\n  createdAt: string\r\n  postsCount: number\r\n}\r\n\r\ninterface Comment {\r\n  id: number\r\n  content: string\r\n  createdAt: string\r\n  author: {\r\n    id: number\r\n    name: string\r\n    avatar: string\r\n  }\r\n  post: {\r\n    id: number\r\n    title: string\r\n  }\r\n  isApproved: boolean\r\n}\r\n\r\nexport default function AdminDashboard() {\r\n  const router = useRouter()\r\n  \r\n  // 初始状态优化，减少闪烁\r\n  const [isLoading, setIsLoading] = useState(true)\r\n  const [error, setError] = useState<string | null>(null)\r\n  const [stats, setStats] = useState({\r\n    totalPosts: 0,\r\n    totalUsers: 0,\r\n    totalComments: 0,\r\n    totalCategories: 0,\r\n  })\r\n  const [autoRefresh, setAutoRefresh] = useState(true)\r\n  const [refreshInterval, setRefreshInterval] = useState<NodeJS.Timeout | null>(null)\r\n  \r\n  // 从API获取真实数据\r\n  const fetchStats = React.useCallback(async () => {\r\n    try {\r\n      const headers = getAdminHeaders();\r\n      \r\n      const response = await fetch('/api/dashboard-stats', {\r\n        headers: headers\r\n      })\r\n      \r\n      if (!response.ok) {\r\n        // 获取详细的错误信息\r\n        const errorData = await response.json().catch(() => ({}));\r\n        const errorMessage = errorData.message || errorData.error || '未知错误';\r\n        \r\n        // 处理401错误（令牌无效或过期）\r\n        if (response.status === 401) {\r\n          // 清除本地状态\r\n          adminAuth.logout();\r\n          // 显示错误信息\r\n          setError(`认证失败: ${errorMessage}，请重新登录`);\r\n          // 重定向到登录页面\r\n          setTimeout(() => {\r\n            router.push('/admin/secret-login');\r\n          }, 2000);\r\n          return;\r\n        }\r\n        \r\n        // 处理其他错误\r\n        throw new Error(`获取数据失败: ${response.status} ${response.statusText} - ${errorMessage}`);\r\n      }\r\n      \r\n      const data = await response.json()\r\n      \r\n      setStats({\r\n        totalPosts: data.totalPosts,\r\n        totalUsers: data.totalUsers,\r\n        totalComments: data.totalComments,\r\n        totalCategories: data.totalCategories,\r\n      })\r\n      setError(null)\r\n    } catch (err) {\r\n      const errorMessage = err instanceof Error ? err.message : '获取数据失败，请稍后重试';\r\n      setError(errorMessage);\r\n      console.error('获取仪表盘数据失败:', err);\r\n    } finally {\r\n      setIsLoading(false)\r\n    }\r\n  }, [router])\r\n\r\n  // 检查登录状态和管理员权限，并初始化数据\r\n  useEffect(() => {\r\n    // 立即检查登录状态，避免不必要的渲染\r\n    const isLoggedIn = adminAuth.isAuthenticated()\r\n    const user = adminAuth.getCurrentUser()\r\n    \r\n    // 如果未登录或不是管理员，重定向到管理员登录页面\r\n    if (!isLoggedIn || !user || user.role !== 'admin') {\r\n      router.push('/admin/secret-login')\r\n      return\r\n    }\r\n    \r\n    // 初始加载数据\r\n    fetchStats();\r\n    \r\n    // 设置自动刷新\r\n    if (autoRefresh) {\r\n      const interval = setInterval(fetchStats, 60000) // 每分钟刷新一次\r\n      setRefreshInterval(interval);\r\n    }\r\n    \r\n    // 监听管理员状态变化\r\n    const cleanup = listenToAdminStateChanges(() => {\r\n      const isLoggedIn = adminAuth.isAuthenticated()\r\n      const user = adminAuth.getCurrentUser()\r\n      \r\n      if (!isLoggedIn || !user || user.role !== 'admin') {\r\n        router.push('/admin/secret-login')\r\n      }\r\n    })\r\n    \r\n    // 清理函数\r\n    return () => {\r\n      cleanup()\r\n      if (refreshInterval) {\r\n        clearInterval(refreshInterval);\r\n      }\r\n    }\r\n  }, [router, fetchStats, autoRefresh])\r\n\r\n  // 手动刷新数据\r\n  const handleManualRefresh = () => {\r\n    fetchStats()\r\n  }\r\n\r\n  // 切换自动刷新\r\n  const toggleAutoRefresh = () => {\r\n    setAutoRefresh(!autoRefresh)\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-[calc(100vh-200px)] bg-gray-50\">\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        {/* 页面标题 */}\r\n        <div className=\"flex justify-between items-center mb-8\">\r\n          <h1 className=\"text-3xl font-bold text-gray-900\">管理员后台</h1>\r\n          <div className=\"flex items-center gap-4\">\r\n            {/* 数据刷新控制 */}\r\n            <div className=\"flex items-center gap-2\">\r\n              <button\r\n                onClick={handleManualRefresh}\r\n                disabled={isLoading}\r\n                className=\"px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1\"\r\n              >\r\n                {isLoading ? (\r\n                  <>\r\n                    <svg className=\"animate-spin -ml-1 mr-2 h-4 w-4 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                      <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                      <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                    </svg>\r\n                    刷新中...\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <svg className=\"h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\r\n                    </svg>\r\n                    刷新\r\n                  </>\r\n                )}\r\n              </button>\r\n              <div className=\"flex items-center gap-1\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  id=\"autoRefresh\"\r\n                  checked={autoRefresh}\r\n                  onChange={toggleAutoRefresh}\r\n                  className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\r\n                />\r\n                <label htmlFor=\"autoRefresh\" className=\"text-sm text-gray-700\">自动刷新</label>\r\n              </div>\r\n            </div>\r\n            \r\n            <span className=\"text-sm text-gray-600\">欢迎，管理员</span>\r\n            <button\r\n              onClick={async () => {\r\n                try {\r\n                  // 使用管理员专用状态管理工具退出登录\r\n                  adminAuth.logout();\r\n                  \r\n                  // 重定向到管理员登录页面\r\n                  window.location.href = '/admin/login';\r\n                } catch (error) {\r\n                  console.error('退出登录失败:', error);\r\n                  alert('退出登录失败，请重试');\r\n                }\r\n              }}\r\n              className=\"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-md text-sm font-medium transition-colors\"\r\n            >\r\n              退出登录\r\n            </button>\r\n          </div>\r\n        </div>\r\n        \r\n        {/* 错误提示 */}\r\n        {error && (\r\n          <div className=\"mb-6 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative\">\r\n            <strong className=\"font-bold\">错误：</strong>\r\n            <span className=\"block sm:inline\"> {error}</span>\r\n          </div>\r\n        )}\r\n\r\n        {/* 统计卡片 */}\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\r\n          <div className=\"bg-white rounded-xl shadow-md p-6 hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm font-medium text-gray-500\">总文章数</p>\r\n                <h3 className=\"text-2xl font-bold text-gray-900 mt-1\">{stats.totalPosts}</h3>\r\n              </div>\r\n              <div className=\"bg-blue-100 p-3 rounded-full\">\r\n                <svg className=\"w-6 h-6 text-blue-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\r\n                </svg>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"bg-white rounded-xl shadow-md p-6 hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm font-medium text-gray-500\">总用户数</p>\r\n                <h3 className=\"text-2xl font-bold text-gray-900 mt-1\">{stats.totalUsers}</h3>\r\n              </div>\r\n              <div className=\"bg-green-100 p-3 rounded-full\">\r\n                <svg className=\"w-6 h-6 text-green-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z\" />\r\n                </svg>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"bg-white rounded-xl shadow-md p-6 hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm font-medium text-gray-500\">总评论数</p>\r\n                <h3 className=\"text-2xl font-bold text-gray-900 mt-1\">{stats.totalComments}</h3>\r\n              </div>\r\n              <div className=\"bg-purple-100 p-3 rounded-full\">\r\n                <svg className=\"w-6 h-6 text-purple-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\" />\r\n                </svg>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"bg-white rounded-xl shadow-md p-6 hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm font-medium text-gray-500\">总分类数</p>\r\n                <h3 className=\"text-2xl font-bold text-gray-900 mt-1\">{stats.totalCategories}</h3>\r\n              </div>\r\n              <div className=\"bg-orange-100 p-3 rounded-full\">\r\n                <svg className=\"w-6 h-6 text-orange-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z\" />\r\n                </svg>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* 管理功能菜单 */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n          <Link \r\n            href=\"/admin/posts\" \r\n            className=\"bg-white rounded-xl shadow-md p-6 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border border-gray-100 hover:border-blue-200\"\r\n          >\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <h3 className=\"text-xl font-bold text-gray-900\">文章管理</h3>\r\n                <p className=\"text-gray-600 mt-1\">查看、编辑、发布和审核文章</p>\r\n              </div>\r\n              <svg className=\"w-8 h-8 text-blue-500\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\r\n              </svg>\r\n            </div>\r\n          </Link>\r\n\r\n          <Link \r\n            href=\"/admin/users\" \r\n            className=\"bg-white rounded-xl shadow-md p-6 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border border-gray-100 hover:border-green-200\"\r\n          >\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <h3 className=\"text-xl font-bold text-gray-900\">用户管理</h3>\r\n                <p className=\"text-gray-600 mt-1\">管理用户账户和权限</p>\r\n              </div>\r\n              <svg className=\"w-8 h-8 text-green-500\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z\" />\r\n              </svg>\r\n            </div>\r\n          </Link>\r\n\r\n          <Link \r\n            href=\"/admin/comments\" \r\n            className=\"bg-white rounded-xl shadow-md p-6 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border border-gray-100 hover:border-purple-200\"\r\n          >\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <h3 className=\"text-xl font-bold text-gray-900\">评论管理</h3>\r\n                <p className=\"text-gray-600 mt-1\">审核和管理评论</p>\r\n              </div>\r\n              <svg className=\"w-8 h-8 text-purple-500\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\" />\r\n              </svg>\r\n            </div>\r\n          </Link>\r\n          \r\n          <Link \r\n            href=\"/admin/docs\" \r\n            className=\"bg-white rounded-xl shadow-md p-6 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border border-gray-100 hover:border-indigo-200\"\r\n          >\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <h3 className=\"text-xl font-bold text-gray-900\">文档管理</h3>\r\n                <p className=\"text-gray-600 mt-1\">查看和管理项目文档</p>\r\n              </div>\r\n              <svg className=\"w-8 h-8 text-indigo-500\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\r\n              </svg>\r\n            </div>\r\n          </Link>\r\n\r\n          <Link \r\n            href=\"/admin/credentials\" \r\n            className=\"bg-white rounded-xl shadow-md p-6 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border border-gray-100 hover:border-red-200\"\r\n          >\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <h3 className=\"text-xl font-bold text-gray-900\">凭证管理</h3>\r\n                <p className=\"text-gray-600 mt-1\">修改管理员密钥和初始访问密码</p>\r\n              </div>\r\n              <svg className=\"w-8 h-8 text-red-500\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\" />\r\n              </svg>\r\n            </div>\r\n          </Link>\r\n\r\n          <Link \r\n            href=\"/admin/footer-config\" \r\n            className=\"bg-white rounded-xl shadow-md p-6 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border border-gray-100 hover:border-orange-200\"\r\n          >\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <h3 className=\"text-xl font-bold text-gray-900\">页尾样式管理</h3>\r\n                <p className=\"text-gray-600 mt-1\">配置页尾的联系方式、样式和布局</p>\r\n              </div>\r\n              <svg className=\"w-8 h-8 text-orange-500\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" />\r\n              </svg>\r\n            </div>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}"],"names":[],"mappings":"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"}}]
}