{"version":3,"sources":["../../../../src/app/users/%5Bid%5D/page.tsx"],"sourcesContent":["'use client'\r\n\r\nimport Link from 'next/link'\r\nimport { useState, useEffect, use } from 'react'\r\nimport { notFound } from 'next/navigation'\r\nimport PostEditorModal from '../../components/PostEditorModal'\r\n\r\n// 文章状态类型\r\ntype PostStatus = 'published' | 'pending' | 'rejected'\r\n\r\n// 用户类型\r\ninterface User {\r\n  id: number\r\n  name: string\r\n  usernameId: string\r\n  bio: string\r\n  avatar: string\r\n  backgroundImage: string\r\n  email: string\r\n  createdAt: string\r\n}\r\n\r\n// 文章类型\r\ninterface Post {\r\n  id: number\r\n  title: string\r\n  excerpt: string\r\n  content: string\r\n  categoryId: number\r\n  image: string\r\n  status: PostStatus\r\n  foundSensitiveWords: string[]\r\n  createdAt: string\r\n  authorId: number\r\n  reviewedBy: number | null\r\n  reviewedAt: string | null\r\n  rejectionReason: string | null\r\n}\r\n\r\n// 模拟分类数据\r\nconst mockCategories = [\r\n  { id: 1, name: '技术', slug: 'tech' },\r\n  { id: 2, name: '生活', slug: 'life' },\r\n  { id: 3, name: '学习', slug: 'study' },\r\n  { id: 4, name: '工作', slug: 'work' }\r\n]\r\n\r\nexport default function UserProfilePage({ params }: { params: Promise<{ id: string }> }) {\r\n  // 使用React.use()解包params Promise\r\n  const resolvedParams = use(params)\r\n  const userId = parseInt(resolvedParams.id)\r\n  \r\n  // 状态管理\r\n  const [user, setUser] = useState<User | null>(null)\r\n  const [userPosts, setUserPosts] = useState<Post[]>([])\r\n  const [postsCount, setPostsCount] = useState(0)\r\n  const followersCount = 0\r\n  const followingCount = 0\r\n  const [isLoading, setIsLoading] = useState(true)\r\n  const [showChangePasswordModal, setShowChangePasswordModal] = useState(false)\r\n  const [showPostModal, setShowPostModal] = useState(false)\r\n  \r\n  // 密码修改表单状态\r\n  const [oldPassword, setOldPassword] = useState('')\r\n  const [newPassword, setNewPassword] = useState('')\r\n  const [confirmPassword, setConfirmPassword] = useState('')\r\n  const [verificationCode, setVerificationCode] = useState('')\r\n  const [isSendingCode, setIsSendingCode] = useState(false)\r\n  const [codeSent, setCodeSent] = useState(false)\r\n  const [countdown, setCountdown] = useState(0)\r\n  const [errors, setErrors] = useState<Record<string, string>>({})\r\n  const [success, setSuccess] = useState('')\r\n  \r\n  // 个人信息编辑状态\r\n  const [showEditProfileModal, setShowEditProfileModal] = useState(false)\r\n  const [editName, setEditName] = useState('')\r\n  const [editUsernameId, setEditUsernameId] = useState('')\r\n  const [editBio, setEditBio] = useState('')\r\n  const [editAvatar, setEditAvatar] = useState('')\r\n  const [editBackgroundImage, setEditBackgroundImage] = useState('')\r\n  const [isUploadingAvatar, setIsUploadingAvatar] = useState(false)\r\n  const [isUploadingBackground, setIsUploadingBackground] = useState(false)\r\n  const [isSubmitting, setIsSubmitting] = useState(false)\r\n  const [profileErrors, setProfileErrors] = useState<Record<string, string>>({})\r\n  const [profileSuccess, setProfileSuccess] = useState('')\r\n  // 用户名修改限制相关状态\r\n  const [remainingUsernameChangeHours, setRemainingUsernameChangeHours] = useState(0)\r\n  const [canModifyUsernameId, setCanModifyUsernameId] = useState(true)\r\n  const [showUsernameConfirmModal, setShowUsernameConfirmModal] = useState(false)\r\n  const [usernameIdChangePending, setUsernameIdChangePending] = useState(false)\r\n  const [countdownTimer, setCountdownTimer] = useState<NodeJS.Timeout | null>(null)\r\n  \r\n  // 密码修改表单提交处理\r\n  const handleChangePassword = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    \r\n    // 重置错误和成功信息\r\n    setErrors({})\r\n    setSuccess('')\r\n    \r\n    // 检查user是否存在\r\n    if (!user) {\r\n      setErrors({ submit: '用户信息未加载' })\r\n      return\r\n    }\r\n    \r\n    // 表单验证\r\n    const newErrors: Record<string, string> = {}\r\n    \r\n    // 验证旧密码\r\n    if (!oldPassword.trim()) {\r\n      newErrors.oldPassword = '请输入旧密码'\r\n    }\r\n    \r\n    // 验证新密码\r\n    if (!newPassword.trim()) {\r\n      newErrors.newPassword = '请输入新密码'\r\n    } else if (!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$/.test(newPassword)) {\r\n      newErrors.newPassword = '新密码至少需要8位，包含大小写字母、数字和特殊符号'\r\n    }\r\n    \r\n    // 验证确认密码\r\n    if (!confirmPassword.trim()) {\r\n      newErrors.confirmPassword = '请确认新密码'\r\n    } else if (newPassword !== confirmPassword) {\r\n      newErrors.confirmPassword = '两次输入的密码不一致'\r\n    }\r\n    \r\n    // 普通用户需要验证邮箱验证码\r\n    if (user.name !== '管理员') {\r\n      if (!verificationCode.trim()) {\r\n        newErrors.verificationCode = '请输入邮箱验证码'\r\n      } else if (!codeSent) {\r\n        newErrors.verificationCode = '请先发送验证码'\r\n      }\r\n    }\r\n    \r\n    // 如果有错误，显示错误信息\r\n    if (Object.keys(newErrors).length > 0) {\r\n      setErrors(newErrors)\r\n      return\r\n    }\r\n    \r\n    // 验证验证码\r\n    if (user.name !== '管理员') {\r\n      try {\r\n        const verifyResponse = await fetch(`/api/auth/send-verification-code?email=${encodeURIComponent(user.email)}&code=${encodeURIComponent(verificationCode)}`, {\r\n          method: 'GET'\r\n        })\r\n        \r\n        const verifyResult = await verifyResponse.json()\r\n        \r\n        if (!verifyResult.success) {\r\n          setErrors(prev => ({ ...prev, verificationCode: verifyResult.message }))\r\n          return\r\n        }\r\n      } catch (error) {\r\n        console.error('验证验证码失败:', error)\r\n        setErrors(prev => ({ ...prev, verificationCode: '验证码验证失败，请稍后重试' }))\r\n        return\r\n      }\r\n    }\r\n    \r\n    // 调用密码修改API\r\n    try {\r\n      const response = await fetch(`/api/users/${userId}/password`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'X-User-Id': userId.toString()\r\n        },\r\n        body: JSON.stringify({\r\n          oldPassword,\r\n          newPassword\r\n        })\r\n      })\r\n      \r\n      const result = await response.json()\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(result.message || '密码修改失败')\r\n      }\r\n      \r\n      // 清除表单\r\n      setOldPassword('')\r\n      setNewPassword('')\r\n      setConfirmPassword('')\r\n      setVerificationCode('')\r\n      setCodeSent(false)\r\n      setCountdown(0)\r\n      \r\n      // 显示成功信息\r\n      setSuccess('密码修改成功')\r\n      \r\n      // 3秒后关闭模态框\r\n      setTimeout(() => {\r\n        setShowChangePasswordModal(false)\r\n        setSuccess('')\r\n      }, 3000)\r\n    } catch (error) {\r\n      setErrors(prev => ({ ...prev, submit: (error as Error).message || '密码修改失败，请稍后重试' }))\r\n    }\r\n  }\r\n  \r\n  // 打开个人信息编辑模态框\r\n  const handleOpenEditModal = () => {\r\n    if (!user) return\r\n    \r\n    // 初始化表单数据\r\n    setEditName(user.name || '')\r\n    setEditUsernameId(user.usernameId || '')\r\n    setEditBio(user.bio || '')\r\n    setEditAvatar(user.avatar || '')\r\n    setEditBackgroundImage(user.backgroundImage || '')\r\n    setProfileErrors({})\r\n    setProfileSuccess('')\r\n    setShowEditProfileModal(true)\r\n  }\r\n  \r\n  // 处理头像上传\r\n  const handleAvatarUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0]\r\n    if (!file) return\r\n    \r\n    // 检查文件类型\r\n    const allowedTypes = ['image/jpeg', 'image/png', 'image/gif']\r\n    if (!allowedTypes.includes(file.type)) {\r\n      setProfileErrors(prev => ({ ...prev, avatar: '不支持的文件类型，请上传JPG、PNG或GIF格式的图片' }))\r\n      return\r\n    }\r\n    \r\n    // 检查文件大小（限制为2MB）\r\n    const maxSize = 2 * 1024 * 1024 // 2MB\r\n    if (file.size > maxSize) {\r\n      setProfileErrors(prev => ({ ...prev, avatar: '文件大小超过限制，请上传小于2MB的图片' }))\r\n      return\r\n    }\r\n    \r\n    setIsUploadingAvatar(true)\r\n    \r\n    try {\r\n      // 创建FormData对象，上传文件\r\n      const formData = new FormData()\r\n      formData.append('file', file)\r\n      \r\n      // 调用上传API\r\n      const response = await fetch('/api/upload', {\r\n        method: 'POST',\r\n        body: formData\r\n      })\r\n      \r\n      if (!response.ok) {\r\n        const errorData = await response.json().catch(() => ({}))\r\n        throw new Error(errorData.error || '头像上传失败')\r\n      }\r\n      \r\n      const data = await response.json()\r\n      setEditAvatar(data.url)\r\n      setProfileErrors(prev => ({ ...prev, avatar: '' }))\r\n    } catch (error) {\r\n      setProfileErrors(prev => ({ ...prev, avatar: (error as Error).message || '头像上传失败，请稍后重试' }))\r\n    } finally {\r\n      setIsUploadingAvatar(false)\r\n      // 清空文件输入，允许重新选择同一文件\r\n      e.target.value = ''\r\n    }\r\n  }\r\n  \r\n  // 处理背景图上传\r\n  const handleBackgroundUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0]\r\n    if (!file) return\r\n    \r\n    // 检查文件类型\r\n    const allowedTypes = ['image/jpeg', 'image/png', 'image/gif']\r\n    if (!allowedTypes.includes(file.type)) {\r\n      setProfileErrors(prev => ({ ...prev, backgroundImage: '不支持的文件类型，请上传JPG、PNG或GIF格式的图片' }))\r\n      return\r\n    }\r\n    \r\n    // 检查文件大小（限制为5MB）\r\n    const maxSize = 5 * 1024 * 1024 // 5MB\r\n    if (file.size > maxSize) {\r\n      setProfileErrors(prev => ({ ...prev, backgroundImage: '文件大小超过限制，请上传小于5MB的图片' }))\r\n      return\r\n    }\r\n    \r\n    setIsUploadingBackground(true)\r\n    \r\n    try {\r\n      // 创建FormData对象，上传文件\r\n      const formData = new FormData()\r\n      formData.append('file', file)\r\n      \r\n      // 调用上传API\r\n      const response = await fetch('/api/upload', {\r\n        method: 'POST',\r\n        body: formData\r\n      })\r\n      \r\n      if (!response.ok) {\r\n        const errorData = await response.json().catch(() => ({}))\r\n        throw new Error(errorData.error || '背景图上传失败')\r\n      }\r\n      \r\n      const data = await response.json()\r\n      setEditBackgroundImage(data.url)\r\n      setProfileErrors(prev => ({ ...prev, backgroundImage: '' }))\r\n    } catch (error) {\r\n      setProfileErrors(prev => ({ ...prev, backgroundImage: (error as Error).message || '背景图上传失败，请稍后重试' }))\r\n    } finally {\r\n      setIsUploadingBackground(false)\r\n      // 清空文件输入，允许重新选择同一文件\r\n      e.target.value = ''\r\n    }\r\n  }\r\n  \r\n  // 处理个人信息编辑表单提交\r\n  const handleEditProfile = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    \r\n    // 重置错误和成功信息\r\n    setProfileErrors({})\r\n    setProfileSuccess('')\r\n    \r\n    // 检查user是否存在\r\n    if (!user) {\r\n      setProfileErrors({ submit: '用户信息未加载' })\r\n      return\r\n    }\r\n    \r\n    // 表单验证\r\n    const newErrors: Record<string, string> = {}\r\n    \r\n    // 验证用户名\r\n    if (!editName || !editName.trim()) {\r\n      newErrors.name = '请输入用户名'\r\n    }\r\n    \r\n    // 验证用户名ID\r\n    if (!editUsernameId || !editUsernameId.trim()) {\r\n      newErrors.usernameId = '请输入用户名ID'\r\n    } else if (!/^[a-zA-Z0-9_]{3,20}$/.test(editUsernameId)) {\r\n      newErrors.usernameId = '用户名ID只能包含字母、数字和下划线，长度为3-20个字符'\r\n    }\r\n    \r\n    // 检查用户名ID是否被修改\r\n    const isUsernameIdChanged = user.usernameId !== editUsernameId\r\n    \r\n    // 如果用户名ID被修改，检查是否有修改权限\r\n    if (isUsernameIdChanged) {\r\n      if (!canModifyUsernameId) {\r\n        newErrors.usernameId = `用户名ID只能每720小时修改一次，还需等待${remainingUsernameChangeHours}小时`\r\n      }\r\n    }\r\n    \r\n    // 如果有错误，显示错误信息\r\n    if (Object.keys(newErrors).length > 0) {\r\n      setProfileErrors(newErrors)\r\n      return\r\n    }\r\n    \r\n    // 如果用户名ID被修改，显示确认对话框\r\n    if (isUsernameIdChanged) {\r\n      setUsernameIdChangePending(true)\r\n      setShowUsernameConfirmModal(true)\r\n      return\r\n    }\r\n    \r\n    // 直接提交其他修改\r\n    await submitProfileChanges()\r\n  }\r\n  \r\n  // 确认用户名ID修改\r\n  const confirmUsernameIdChange = async () => {\r\n    setShowUsernameConfirmModal(false)\r\n    await submitProfileChanges()\r\n  }\r\n  \r\n  // 取消用户名ID修改\r\n  const cancelUsernameIdChange = () => {\r\n    setShowUsernameConfirmModal(false)\r\n    setUsernameIdChangePending(false)\r\n  }\r\n  \r\n  // 提交个人信息修改\r\n  const submitProfileChanges = async () => {\r\n    setIsSubmitting(true)\r\n    \r\n    try {\r\n      // 构建更新数据，只包含数据库中存在的字段\r\n    const updateData: Partial<User> = {\r\n      name: editName,\r\n      usernameId: editUsernameId,\r\n      bio: editBio,\r\n      avatar: editAvatar,\r\n      backgroundImage: editBackgroundImage\r\n    }\r\n      \r\n      // 调用API更新用户信息\r\n      const response = await fetch(`/api/users/${userId}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'X-User-Id': userId.toString() // 添加当前用户ID到请求头，用于权限验证\r\n        },\r\n        body: JSON.stringify(updateData)\r\n      })\r\n      \r\n      if (!response.ok) {\r\n        const errorData = await response.json().catch(() => ({}))\r\n        throw new Error(errorData.message || '更新失败')\r\n      }\r\n      \r\n      const updatedUser = await response.json()\r\n      \r\n      // 更新本地状态\r\n      setUser(updatedUser)\r\n      setRemainingUsernameChangeHours(updatedUser.remainingUsernameChangeHours)\r\n      setCanModifyUsernameId(updatedUser.remainingUsernameChangeHours === 0)\r\n      \r\n      // 更新localStorage中的用户信息（如果是当前登录用户）\r\n      const currentUser = JSON.parse(localStorage.getItem('user') || 'null')\r\n      if (currentUser && currentUser.id === userId) {\r\n        localStorage.setItem('user', JSON.stringify(updatedUser))\r\n      }\r\n      \r\n      // 显示成功信息\r\n      setProfileSuccess('个人信息更新成功')\r\n      \r\n      // 3秒后关闭模态框\r\n      setTimeout(() => {\r\n        setShowEditProfileModal(false)\r\n        setProfileSuccess('')\r\n        setUsernameIdChangePending(false)\r\n      }, 3000)\r\n    } catch (error) {\r\n      setProfileErrors(prev => ({\r\n        ...prev, \r\n        submit: (error as Error).message || '更新失败，请稍后重试'\r\n      }))\r\n      setUsernameIdChangePending(false)\r\n    } finally {\r\n      setIsSubmitting(false)\r\n    }\r\n  }\r\n  \r\n  // 发送邮箱验证码\r\n  const handleSendVerificationCode = async () => {\r\n    if (isSendingCode || countdown > 0 || !user) return\r\n    \r\n    setIsSendingCode(true)\r\n    \r\n    try {\r\n      // 调用API发送验证码\r\n      const response = await fetch('/api/auth/send-verification-code', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ email: user.email })\r\n      })\r\n      \r\n      const result = await response.json()\r\n      \r\n      if (result.success) {\r\n        setCodeSent(true)\r\n        setCountdown(60)\r\n        \r\n        // 开始倒计时\r\n        const timer = setInterval(() => {\r\n          setCountdown((prev) => {\r\n            if (prev <= 1) {\r\n              clearInterval(timer)\r\n              return 0\r\n            }\r\n            return prev - 1\r\n          })\r\n        }, 1000)\r\n      } else {\r\n        setErrors(prev => ({ ...prev, verificationCode: result.message || '验证码发送失败，请稍后重试' }))\r\n      }\r\n    } catch (error) {\r\n      console.error('发送验证码失败:', error)\r\n      setErrors(prev => ({ ...prev, verificationCode: '验证码发送失败，请稍后重试' }))\r\n    } finally {\r\n      setIsSendingCode(false)\r\n    }\r\n  }\r\n  \r\n  // 加载用户数据和文章数据\r\n  useEffect(() => {\r\n    const loadData = async () => {\r\n      setIsLoading(true)\r\n      try {\r\n        // 从API获取用户数据\r\n        const userResponse = await fetch(`/api/users/${userId}`)\r\n        if (!userResponse.ok) {\r\n          throw new Error('Failed to fetch user data')\r\n        }\r\n        const userData = await userResponse.json()\r\n        \r\n        // 确保用户数据包含所有必要字段\r\n        const completeUserData = {\r\n          ...userData,\r\n          usernameId: userData.usernameId || `user${userId}`,\r\n          backgroundImage: userData.backgroundImage || '',\r\n          role: userData.role || 'user',\r\n          lastLoginAt: userData.lastLoginAt || null,\r\n          lastUsernameChange: userData.lastUsernameChange || null\r\n        }\r\n        \r\n        // 更新用户状态\r\n        setUser(completeUserData)\r\n        setRemainingUsernameChangeHours(0)\r\n        setCanModifyUsernameId(true)\r\n        \r\n        // 更新localStorage中的用户信息（如果是当前登录用户）\r\n      const currentUser = JSON.parse(localStorage.getItem('user') || 'null')\r\n      if (currentUser && currentUser.id === userId) {\r\n        localStorage.setItem('user', JSON.stringify(completeUserData))\r\n      }\r\n        \r\n        // 从API获取文章数据\r\n        const postsResponse = await fetch('/api/posts')\r\n        if (!postsResponse.ok) {\r\n          throw new Error('Failed to fetch posts')\r\n        }\r\n        const posts = await postsResponse.json() as Post[]\r\n        // 筛选当前用户的文章\r\n        const filteredPosts = posts.filter(post => post.authorId === userId)\r\n        setUserPosts(filteredPosts)\r\n        setPostsCount(filteredPosts.length)\r\n      } catch (error) {\r\n        console.error('Error loading data:', error)\r\n        setUser(null)\r\n        setUserPosts([])\r\n        setPostsCount(0)\r\n      } finally {\r\n        setIsLoading(false)\r\n      }\r\n    }\r\n    \r\n    loadData()\r\n  }, [userId])\r\n  \r\n  // 用户名修改倒计时\r\n  useEffect(() => {\r\n    // 如果有剩余时间，设置倒计时\r\n    if (remainingUsernameChangeHours > 0 && canModifyUsernameId === false) {\r\n      const timer = setInterval(() => {\r\n        setRemainingUsernameChangeHours(prev => {\r\n          if (prev <= 1) {\r\n            setCanModifyUsernameId(true)\r\n            return 0\r\n          }\r\n          return prev - 1\r\n        })\r\n      }, 3600000) // 每小时更新一次\r\n      \r\n      setCountdownTimer(timer)\r\n    }\r\n    \r\n    return () => {\r\n      if (countdownTimer) {\r\n        clearInterval(countdownTimer)\r\n      }\r\n    }\r\n  }, [remainingUsernameChangeHours, canModifyUsernameId])\r\n  \r\n  // 加载状态显示\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\r\n      </div>\r\n    )\r\n  }\r\n  \r\n  // 只有在加载完成后才检查用户是否存在\r\n  if (!user) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-4\">\r\n        <div className=\"text-center max-w-md\">\r\n          <h1 className=\"text-4xl font-bold text-gray-900 mb-4\">用户不存在</h1>\r\n          <p className=\"text-gray-600 mb-8\">抱歉，您访问的用户不存在。</p>\r\n          <Link \r\n            href=\"/\" \r\n            className=\"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 transition-colors\"\r\n          >\r\n            返回首页\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n  \r\n  // 获取状态显示文本和样式\r\n  const getStatusInfo = (status: PostStatus) => {\r\n    switch (status) {\r\n      case 'published':\r\n        return { text: '已发布', className: 'bg-green-100 text-green-800' }\r\n      case 'pending':\r\n        return { text: '审核中', className: 'bg-yellow-100 text-yellow-800' }\r\n      case 'rejected':\r\n        return { text: '未通过', className: 'bg-red-100 text-red-800' }\r\n      default:\r\n        return { text: '未知', className: 'bg-gray-100 text-gray-800' }\r\n    }\r\n  }\r\n  \r\n  return (\r\n    <div className=\"space-y-8\">\r\n      {/* 用户信息卡片 */}\r\n      <div className=\"bg-white rounded-xl shadow-md overflow-hidden\">\r\n        {/* 封面图 */}\r\n        <div className=\"h-32 relative\">\r\n          {user.backgroundImage ? (\r\n            <img\r\n              src={user.backgroundImage}\r\n              alt=\"背景图\"\r\n              className=\"w-full h-full object-cover\"\r\n            />\r\n          ) : (\r\n            <div className=\"h-full bg-gradient-to-r from-blue-500 to-indigo-600\"></div>\r\n          )}\r\n        </div>\r\n        \r\n        {/* 用户信息 */}\r\n        <div className=\"px-6 py-4\">\r\n          <div className=\"flex flex-col md:flex-row items-start md:items-center\">\r\n            {/* 头像 */}\r\n            <div className=\"-mt-16 mr-6\">\r\n              <div className=\"w-32 h-32 rounded-full overflow-hidden border-4 border-white shadow-lg\">\r\n                <img\r\n                  src={user.avatar || 'https://via.placeholder.com/200'}\r\n                  alt={user.name}\r\n                  className=\"w-full h-full object-cover\"\r\n                />\r\n              </div>\r\n            </div>\r\n            \r\n            {/* 基本信息 */}\r\n              <div className=\"flex-1\">\r\n                <div className=\"flex flex-col md:flex-row md:items-center md:justify-between\">\r\n                  <div>\r\n                    <h1 className=\"text-2xl font-bold text-gray-900\">{user.name}</h1>\r\n                    <p className=\"text-sm text-gray-500\">@{user.usernameId}</p>\r\n                  </div>\r\n                  <div className=\"mt-4 md:mt-0 flex gap-3\">\r\n                    {/* 关注按钮 */}\r\n                    <button className=\"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm font-medium transition-colors\">\r\n                      关注\r\n                    </button>\r\n                    \r\n                    {/* 发布文章按钮 - 仅在访问自己的主页时显示 */}\r\n                    {userId === user.id && (\r\n                      <button\r\n                        onClick={() => setShowPostModal(true)}\r\n                        className=\"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-md text-sm font-medium transition-colors flex items-center gap-2\"\r\n                      >\r\n                        <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                          <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z\" />\r\n                        </svg>\r\n                        发布文章\r\n                      </button>\r\n                    )}\r\n                    \r\n                    {/* 编辑个人信息按钮 - 仅在访问自己的主页时显示 */}\r\n                    {userId === user.id && (\r\n                      <button\r\n                        onClick={handleOpenEditModal}\r\n                        className=\"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm font-medium transition-colors flex items-center gap-2\"\r\n                      >\r\n                        <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                          <path d=\"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\" />\r\n                        </svg>\r\n                        编辑资料\r\n                      </button>\r\n                    )}\r\n                    \r\n                    {/* 修改密码按钮 - 仅在访问自己的主页时显示 */}\r\n                    {userId === user.id && (\r\n                      <button\r\n                        onClick={() => setShowChangePasswordModal(true)}\r\n                        className=\"px-4 py-2 bg-yellow-600 hover:bg-yellow-700 text-white rounded-md text-sm font-medium transition-colors flex items-center gap-2\"\r\n                      >\r\n                        <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                          <path d=\"M12 15v-2h3v-3h2v3h3v2h-3v3h-2v-3h-3z\" />\r\n                          <path d=\"M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V6h16v12z\" />\r\n                        </svg>\r\n                        修改密码\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              \r\n              {/* 个人简介 */}\r\n              <p className=\"mt-3 text-gray-600\">{user.bio || '这个人很懒，还没有填写个人简介'}</p>\r\n              \r\n              {/* 统计数据 */}\r\n              <div className=\"mt-4 flex space-x-8\">\r\n                <div className=\"flex items-center\">\r\n                  <span className=\"font-semibold text-gray-900 mr-1\">{postsCount}</span>\r\n                  <span className=\"text-gray-500\">文章</span>\r\n                </div>\r\n                <div className=\"flex items-center\">\r\n                  <span className=\"font-semibold text-gray-900 mr-1\">{followersCount}</span>\r\n                  <span className=\"text-gray-500\">粉丝</span>\r\n                </div>\r\n                <div className=\"flex items-center\">\r\n                  <span className=\"font-semibold text-gray-900 mr-1\">{followingCount}</span>\r\n                  <span className=\"text-gray-500\">关注</span>\r\n                </div>\r\n              </div>\r\n              \r\n              {/* 注册时间 */}\r\n              <p className=\"mt-3 text-sm text-gray-500\">\r\n                注册于 {new Date(user.createdAt).toLocaleDateString()}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* 用户文章列表 */}\r\n      <div className=\"bg-white rounded-xl shadow-md overflow-hidden\">\r\n        <div className=\"px-6 py-4 border-b border-gray-200\">\r\n          <h2 className=\"text-xl font-bold text-gray-900\">发布的文章</h2>\r\n        </div>\r\n        \r\n        <div className=\"divide-y divide-gray-200\">\r\n          {userPosts.map((post) => {\r\n            const statusInfo = getStatusInfo(post.status)\r\n            const category = mockCategories.find(c => c.id === post.categoryId) || { name: '未分类' }\r\n            \r\n            return (\r\n              <div key={post.id} className=\"p-6\">\r\n                <div className=\"flex flex-col md:flex-row gap-6\">\r\n                  {/* 文章图片 */}\r\n                  {post.image && (\r\n                    <div className=\"w-full md:w-48 h-32 rounded-lg overflow-hidden flex-shrink-0\">\r\n                      <img\r\n                        src={post.image}\r\n                        alt={post.title}\r\n                        className=\"w-full h-full object-cover\"\r\n                      />\r\n                    </div>\r\n                  )}\r\n                  \r\n                  {/* 文章内容 */}\r\n                  <div className=\"flex-1\">\r\n                    <div className=\"flex items-center text-sm text-gray-500 mb-2\">\r\n                      <span className=\"bg-blue-100 text-blue-800 text-xs font-medium px-3 py-1 rounded-full mr-3\">\r\n                        {category.name}\r\n                      </span>\r\n                      <span className={`text-xs font-medium px-3 py-1 rounded-full mr-3 ${statusInfo.className}`}>\r\n                        {statusInfo.text}\r\n                      </span>\r\n                      <span>{new Date(post.createdAt).toLocaleDateString()}</span>\r\n                    </div>\r\n                    \r\n                    <h3 className=\"text-xl font-bold text-gray-900 mb-2\">\r\n                      <Link href={`/posts/${post.id}`} className=\"hover:text-blue-600 transition-colors\">\r\n                        {post.title}\r\n                      </Link>\r\n                    </h3>\r\n                    \r\n                    <p className=\"text-gray-600 mb-4 line-clamp-2\">{post.excerpt}</p>\r\n                    \r\n                    {/* 拒绝原因 */}\r\n                    {post.status === 'rejected' && post.rejectionReason && (\r\n                      <div className=\"mt-2 p-3 bg-red-50 border border-red-100 rounded-md\">\r\n                        <p className=\"text-sm text-red-700\">\r\n                          <strong>未通过原因:</strong> {post.rejectionReason}\r\n                        </p>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )\r\n          })}\r\n        </div>\r\n        \r\n        {/* 空状态 */}\r\n        {userPosts.length === 0 && (\r\n          <div className=\"px-6 py-12 text-center\">\r\n            <svg className=\"w-16 h-16 text-gray-400 mx-auto mb-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\r\n            </svg>\r\n            <p className=\"text-gray-500\">该用户还没有发布任何文章</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n      \r\n      {/* 修改密码模态框 */}\r\n      {showChangePasswordModal && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-white rounded-xl shadow-2xl max-w-md w-full\">\r\n            {/* 模态框头部 */}\r\n            <div className=\"flex justify-between items-center px-6 py-4 border-b border-gray-200\">\r\n              <h2 className=\"text-xl font-bold text-gray-900\">修改密码</h2>\r\n              <button\r\n                onClick={() => setShowChangePasswordModal(false)}\r\n                className=\"text-gray-400 hover:text-gray-600\"\r\n              >\r\n                <svg className=\"w-6 h-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                </svg>\r\n              </button>\r\n            </div>\r\n            \r\n            {/* 模态框内容 */}\r\n            <div className=\"px-6 py-6\">\r\n              {/* 成功信息 */}\r\n              {success && (\r\n                <div className=\"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-md mb-4\">\r\n                  {success}\r\n                </div>\r\n              )}\r\n              \r\n              <form className=\"space-y-4\" onSubmit={handleChangePassword}>\r\n                {/* 旧密码 */}\r\n                <div>\r\n                  <label htmlFor=\"oldPassword\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    旧密码\r\n                  </label>\r\n                  <input\r\n                    type=\"password\"\r\n                    id=\"oldPassword\"\r\n                    value={oldPassword}\r\n                    onChange={(e) => setOldPassword(e.target.value)}\r\n                    className={`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${errors.oldPassword ? 'border-red-500' : 'border-gray-300'}`}\r\n                    placeholder=\"请输入旧密码\"\r\n                  />\r\n                  {errors.oldPassword && (\r\n                    <p className=\"mt-1 text-sm text-red-600\">{errors.oldPassword}</p>\r\n                  )}\r\n                </div>\r\n                \r\n                {/* 新密码 */}\r\n                <div>\r\n                  <label htmlFor=\"newPassword\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    新密码\r\n                  </label>\r\n                  <input\r\n                    type=\"password\"\r\n                    id=\"newPassword\"\r\n                    value={newPassword}\r\n                    onChange={(e) => setNewPassword(e.target.value)}\r\n                    className={`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${errors.newPassword ? 'border-red-500' : 'border-gray-300'}`}\r\n                    placeholder=\"请输入新密码\"\r\n                  />\r\n                  {errors.newPassword && (\r\n                    <p className=\"mt-1 text-sm text-red-600\">{errors.newPassword}</p>\r\n                  )}\r\n                </div>\r\n                \r\n                {/* 确认新密码 */}\r\n                <div>\r\n                  <label htmlFor=\"confirmPassword\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    确认新密码\r\n                  </label>\r\n                  <input\r\n                    type=\"password\"\r\n                    id=\"confirmPassword\"\r\n                    value={confirmPassword}\r\n                    onChange={(e) => setConfirmPassword(e.target.value)}\r\n                    className={`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${errors.confirmPassword ? 'border-red-500' : 'border-gray-300'}`}\r\n                    placeholder=\"请再次输入新密码\"\r\n                  />\r\n                  {errors.confirmPassword && (\r\n                    <p className=\"mt-1 text-sm text-red-600\">{errors.confirmPassword}</p>\r\n                  )}\r\n                </div>\r\n                \r\n                {/* 邮箱验证 - 普通用户需要 */}\r\n                {user.name !== '管理员' && (\r\n                  <div>\r\n                    <label htmlFor=\"verificationCode\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                      邮箱验证码\r\n                    </label>\r\n                    <div className=\"flex gap-2\">\r\n                      <input\r\n                        type=\"text\"\r\n                        id=\"verificationCode\"\r\n                        value={verificationCode}\r\n                        onChange={(e) => setVerificationCode(e.target.value)}\r\n                        className={`flex-1 px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${errors.verificationCode ? 'border-red-500' : 'border-gray-300'}`}\r\n                        placeholder=\"请输入邮箱验证码\"\r\n                      />\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={handleSendVerificationCode}\r\n                        disabled={isSendingCode || countdown > 0}\r\n                        className={`px-4 py-2 rounded-md text-sm font-medium transition-colors ${isSendingCode || countdown > 0 ? 'bg-gray-400 cursor-not-allowed' : 'bg-blue-600 hover:bg-blue-700 text-white'}`}\r\n                      >\r\n                        {isSendingCode ? '发送中...' : countdown > 0 ? `${countdown}s后重试` : '发送验证码'}\r\n                      </button>\r\n                    </div>\r\n                    {errors.verificationCode && (\r\n                      <p className=\"mt-1 text-sm text-red-600\">{errors.verificationCode}</p>\r\n                    )}\r\n                  </div>\r\n                )}\r\n                \r\n                {/* 模态框底部 */}\r\n                <div className=\"flex justify-end gap-3 pt-4 border-t border-gray-200\">\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setShowChangePasswordModal(false)}\r\n                    className=\"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors\"\r\n                  >\r\n                    取消\r\n                  </button>\r\n                  <button\r\n                    type=\"submit\"\r\n                    className=\"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm font-medium transition-colors\"\r\n                  >\r\n                    确认修改\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* 个人信息编辑模态框 */}\r\n      {showEditProfileModal && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-white rounded-xl shadow-2xl max-w-2xl w-full\">\r\n            {/* 模态框头部 */}\r\n            <div className=\"flex justify-between items-center px-6 py-4 border-b border-gray-200\">\r\n              <h2 className=\"text-xl font-bold text-gray-900\">编辑个人信息</h2>\r\n              <button\r\n                onClick={() => setShowEditProfileModal(false)}\r\n                className=\"text-gray-400 hover:text-gray-600\"\r\n              >\r\n                <svg className=\"w-6 h-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                </svg>\r\n              </button>\r\n            </div>\r\n            \r\n            {/* 模态框内容 */}\r\n            <div className=\"px-6 py-6\">\r\n              {/* 成功信息 */}\r\n              {profileSuccess && (\r\n                <div className=\"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-md mb-4\">\r\n                  {profileSuccess}\r\n                </div>\r\n              )}\r\n              \r\n              <form className=\"space-y-6\" onSubmit={handleEditProfile}>\r\n                {/* 头像上传 */}\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    头像\r\n                  </label>\r\n                  <div className=\"flex items-center gap-4\">\r\n                    <div className=\"w-20 h-20 rounded-full overflow-hidden border-2 border-gray-200\">\r\n                      <img\r\n                        src={editAvatar}\r\n                        alt=\"头像预览\"\r\n                        className=\"w-full h-full object-cover\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <input\r\n                        type=\"file\"\r\n                        id=\"avatarUpload\"\r\n                        accept=\"image/jpeg,image/png,image/gif\"\r\n                        onChange={handleAvatarUpload}\r\n                        className=\"hidden\"\r\n                      />\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() => document.getElementById('avatarUpload')?.click()}\r\n                        disabled={isUploadingAvatar}\r\n                        className={`px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm font-medium transition-colors ${isUploadingAvatar ? 'bg-gray-400 cursor-not-allowed' : ''}`}\r\n                      >\r\n                        {isUploadingAvatar ? '上传中...' : '上传头像'}\r\n                      </button>\r\n                      {profileErrors.avatar && (\r\n                        <p className=\"mt-1 text-sm text-red-600\">{profileErrors.avatar}</p>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                {/* 背景图上传 */}\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    背景图\r\n                  </label>\r\n                  <div className=\"flex flex-col gap-3\">\r\n                    <div className=\"h-32 rounded-lg overflow-hidden border-2 border-gray-200\">\r\n                      <img\r\n                        src={editBackgroundImage || 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=800&h=200&fit=crop'}\r\n                        alt=\"背景图预览\"\r\n                        className=\"w-full h-full object-cover\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <input\r\n                        type=\"file\"\r\n                        id=\"backgroundUpload\"\r\n                        accept=\"image/jpeg,image/png,image/gif\"\r\n                        onChange={handleBackgroundUpload}\r\n                        className=\"hidden\"\r\n                      />\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() => document.getElementById('backgroundUpload')?.click()}\r\n                        disabled={isUploadingBackground}\r\n                        className={`px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm font-medium transition-colors ${isUploadingBackground ? 'bg-gray-400 cursor-not-allowed' : ''}`}\r\n                      >\r\n                        {isUploadingBackground ? '上传中...' : '上传背景图'}\r\n                      </button>\r\n                      {profileErrors.backgroundImage && (\r\n                        <p className=\"mt-1 text-sm text-red-600\">{profileErrors.backgroundImage}</p>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                {/* 用户名 */}\r\n                <div>\r\n                  <label htmlFor=\"editName\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    用户名\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"editName\"\r\n                    value={editName}\r\n                    onChange={(e) => setEditName(e.target.value)}\r\n                    className={`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${profileErrors.name ? 'border-red-500' : 'border-gray-300'}`}\r\n                    placeholder=\"请输入用户名\"\r\n                  />\r\n                  {profileErrors.name && (\r\n                    <p className=\"mt-1 text-sm text-red-600\">{profileErrors.name}</p>\r\n                  )}\r\n                </div>\r\n                \r\n                {/* 用户名ID */}\r\n                <div>\r\n                  <label htmlFor=\"editUsernameId\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    用户名ID\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"editUsernameId\"\r\n                    value={editUsernameId}\r\n                    onChange={(e) => setEditUsernameId(e.target.value)}\r\n                    disabled={!canModifyUsernameId}\r\n                    className={`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${profileErrors.usernameId ? 'border-red-500' : 'border-gray-300'} ${!canModifyUsernameId ? 'bg-gray-100 cursor-not-allowed' : ''}`}\r\n                    placeholder=\"请输入用户名ID\"\r\n                  />\r\n                  {profileErrors.usernameId && (\r\n                    <p className=\"mt-1 text-sm text-red-600\">{profileErrors.usernameId}</p>\r\n                  )}\r\n                  {!canModifyUsernameId && (\r\n                    <p className=\"mt-1 text-sm text-yellow-600\">\r\n                      用户名ID只能每720小时修改一次，还需等待：{remainingUsernameChangeHours}小时\r\n                    </p>\r\n                  )}\r\n                  {canModifyUsernameId && (\r\n                    <p className=\"mt-1 text-sm text-gray-500\">\r\n                      用户名ID每720小时可修改一次\r\n                    </p>\r\n                  )}\r\n                </div>\r\n                \r\n                {/* 个人简介 */}\r\n                <div>\r\n                  <label htmlFor=\"editBio\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    个人简介\r\n                  </label>\r\n                  <textarea\r\n                    id=\"editBio\"\r\n                    value={editBio}\r\n                    onChange={(e) => setEditBio(e.target.value)}\r\n                    rows={3}\r\n                    className=\"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none\"\r\n                    placeholder=\"请输入个人简介\"\r\n                  ></textarea>\r\n                </div>\r\n                \r\n                {/* 模态框底部 */}\r\n                <div className=\"flex justify-end gap-3 pt-4 border-t border-gray-200\">\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setShowEditProfileModal(false)}\r\n                    className=\"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors\"\r\n                  >\r\n                    取消\r\n                  </button>\r\n                  <button\r\n                    type=\"submit\"\r\n                    disabled={isSubmitting}\r\n                    className={`px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm font-medium transition-colors ${isSubmitting ? 'bg-gray-400 cursor-not-allowed' : ''}`}\r\n                  >\r\n                    {isSubmitting ? '保存中...' : '保存修改'}\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* 用户名ID修改确认模态框 */}\r\n      {showUsernameConfirmModal && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-white rounded-xl shadow-2xl max-w-md w-full\">\r\n            {/* 模态框头部 */}\r\n            <div className=\"px-6 py-4 border-b border-gray-200\">\r\n              <h2 className=\"text-xl font-bold text-gray-900\">确认修改用户名ID</h2>\r\n            </div>\r\n            \r\n            {/* 模态框内容 */}\r\n            <div className=\"px-6 py-6\">\r\n              <p className=\"text-gray-600 mb-4\">\r\n                您确定要将用户名ID从 <strong>@{user.usernameId}</strong> 修改为 <strong>@{editUsernameId}</strong> 吗？\r\n              </p>\r\n              <p className=\"text-yellow-600 text-sm mb-6\">\r\n                注意：用户名ID修改后，您将需要等待720小时才能再次修改。\r\n              </p>\r\n              \r\n              {/* 模态框底部 */}\r\n              <div className=\"flex justify-end gap-3\">\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={cancelUsernameIdChange}\r\n                  className=\"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors\"\r\n                >\r\n                  取消\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={confirmUsernameIdChange}\r\n                  disabled={isSubmitting}\r\n                  className={`px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm font-medium transition-colors ${isSubmitting ? 'bg-gray-400 cursor-not-allowed' : ''}`}\r\n                >\r\n                  {isSubmitting ? '确认中...' : '确认修改'}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* 发布文章弹窗 */}\r\n      <PostEditorModal\r\n        isOpen={showPostModal}\r\n        onClose={() => setShowPostModal(false)}\r\n        isAdmin={false}\r\n      />\r\n    </div>\r\n  )\r\n}"],"names":[],"mappings":"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"}