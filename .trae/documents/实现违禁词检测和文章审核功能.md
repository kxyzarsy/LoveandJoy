# 实现违禁词检测和文章审核功能

## 功能需求
1. **违禁词检测**：用户上传文章时本地检测是否含有违禁词
2. **文章状态管理**：
   - 无违禁词：直接发布，状态显示"发布成功"
   - 有违禁词：需要管理员审核，状态显示"审核中"
3. **管理员审核功能**：
   - 文章管理页面显示待审核文章
   - 显示用户ID、用户名、发布时间、发布状态
   - 支持搜索功能
   - 支持通过/不通过审核
4. **审核结果反馈**：
   - 通过审核：文章自动发布
   - 不通过：显示未通过原因

## 实现步骤

### 1. 创建违禁词检测工具
- 创建 `src/utils/违禁词检测.ts` 文件
- 定义违禁词列表
- 实现违禁词检测函数

### 2. 修改文章数据结构
- 更新模拟数据，添加文章状态字段：`status` (published/pending/rejected)
- 添加审核相关字段：`reviewedBy`, `reviewedAt`, `rejectionReason`

### 3. 修改文章发布页面
- 在 `src/app/admin/posts/new/page.tsx` 中添加违禁词检测逻辑
- 根据检测结果设置文章状态
- 显示相应提示信息

### 4. 创建管理员文章管理页面
- 创建 `src/app/admin/posts/page.tsx` 页面
- 实现文章列表展示，包含用户ID、用户名、发布时间、状态
- 添加搜索功能
- 实现通过/不通过审核功能

### 5. 修改用户个人主页
- 在 `src/app/users/[id]/page.tsx` 中显示文章状态
- 根据状态显示不同样式（审核中/发布成功/未通过）

### 6. 更新API路由
- 更新文章相关API，支持状态管理
- 添加审核相关API

## 技术实现

### 违禁词检测
- 使用正则表达式进行违禁词匹配
- 支持大小写不敏感匹配

### 文章状态管理
- 使用localStorage模拟数据库存储文章状态
- 支持状态转换：pending → published/rejected

### 管理员审核
- 实现搜索功能，支持按标题、用户名搜索
- 实现批量操作功能

## 预期效果

1. **用户发布文章**：
   - 无违禁词：直接发布，个人主页显示"发布成功"
   - 有违禁词：提示"需要管理员审核"，个人主页显示"审核中"

2. **管理员审核**：
   - 文章管理页面显示待审核文章列表
   - 支持搜索和筛选
   - 点击"通过"：文章自动发布
   - 点击"不通过"：输入原因，用户端显示未通过原因

3. **用户个人主页**：
   - 显示文章状态
   - 支持查看审核结果

## 文件修改清单

1. **新增文件**：
   - `src/utils/违禁词检测.ts`：违禁词检测工具
   - `src/app/admin/posts/page.tsx`：管理员文章管理页面

2. **修改文件**：
   - `src/app/admin/posts/new/page.tsx`：添加违禁词检测
   - `src/app/users/[id]/page.tsx`：显示文章状态
   - `src/app/api/posts/route.ts`：更新API支持状态管理
   - `src/app/api/posts/[id]/route.ts`：添加审核API

3. **数据结构更新**：
   - 文章数据添加状态和审核相关字段

通过以上实现，将完成用户要求的违禁词检测和文章审核功能，确保网站内容安全，同时提供良好的用户体验。