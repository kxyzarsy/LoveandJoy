{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/MyBlog/LoveandJoy/src/app/users/%5Bid%5D/page.tsx"],"sourcesContent":["'use client'\r\n\r\nimport Link from 'next/link'\r\nimport { useState, useEffect, use } from 'react'\r\nimport { notFound } from 'next/navigation'\r\nimport PostEditorModal from '../../components/PostEditorModal'\r\n\r\n// 文章状态类型\r\ntype PostStatus = 'published' | 'pending' | 'rejected'\r\n\r\n// 用户类型\r\ninterface User {\r\n  id: number\r\n  name: string\r\n  usernameId: string\r\n  bio: string\r\n  avatar: string\r\n  backgroundImage: string\r\n  email: string\r\n  createdAt: string\r\n}\r\n\r\n// 文章类型\r\ninterface Post {\r\n  id: number\r\n  title: string\r\n  excerpt: string\r\n  content: string\r\n  categoryId: number\r\n  image: string\r\n  status: PostStatus\r\n  foundSensitiveWords: string[]\r\n  createdAt: string\r\n  authorId: number\r\n  reviewedBy: number | null\r\n  reviewedAt: string | null\r\n  rejectionReason: string | null\r\n}\r\n\r\n// 模拟分类数据\r\nconst mockCategories = [\r\n  { id: 1, name: '技术', slug: 'tech' },\r\n  { id: 2, name: '生活', slug: 'life' },\r\n  { id: 3, name: '学习', slug: 'study' },\r\n  { id: 4, name: '工作', slug: 'work' }\r\n]\r\n\r\nexport default function UserProfilePage({ params }: { params: Promise<{ id: string }> }) {\r\n  // 使用React.use()解包params Promise\r\n  const resolvedParams = use(params)\r\n  const userId = parseInt(resolvedParams.id)\r\n  \r\n  // 状态管理\r\n  const [user, setUser] = useState<User | null>(null)\r\n  const [userPosts, setUserPosts] = useState<Post[]>([])\r\n  const [postsCount, setPostsCount] = useState(0)\r\n  const followersCount = 0\r\n  const followingCount = 0\r\n  const [isLoading, setIsLoading] = useState(true)\r\n  const [showChangePasswordModal, setShowChangePasswordModal] = useState(false)\r\n  const [showPostModal, setShowPostModal] = useState(false)\r\n  \r\n  // 密码修改表单状态\r\n  const [oldPassword, setOldPassword] = useState('')\r\n  const [newPassword, setNewPassword] = useState('')\r\n  const [confirmPassword, setConfirmPassword] = useState('')\r\n  const [verificationCode, setVerificationCode] = useState('')\r\n  const [isSendingCode, setIsSendingCode] = useState(false)\r\n  const [codeSent, setCodeSent] = useState(false)\r\n  const [countdown, setCountdown] = useState(0)\r\n  const [errors, setErrors] = useState<Record<string, string>>({})\r\n  const [success, setSuccess] = useState('')\r\n  \r\n  // 个人信息编辑状态\r\n  const [showEditProfileModal, setShowEditProfileModal] = useState(false)\r\n  const [editName, setEditName] = useState('')\r\n  const [editUsernameId, setEditUsernameId] = useState('')\r\n  const [editBio, setEditBio] = useState('')\r\n  const [editAvatar, setEditAvatar] = useState('')\r\n  const [editBackgroundImage, setEditBackgroundImage] = useState('')\r\n  const [isUploadingAvatar, setIsUploadingAvatar] = useState(false)\r\n  const [isUploadingBackground, setIsUploadingBackground] = useState(false)\r\n  const [isSubmitting, setIsSubmitting] = useState(false)\r\n  const [profileErrors, setProfileErrors] = useState<Record<string, string>>({})\r\n  const [profileSuccess, setProfileSuccess] = useState('')\r\n  // 用户名修改限制相关状态\r\n  const [remainingUsernameChangeHours, setRemainingUsernameChangeHours] = useState(0)\r\n  const [canModifyUsernameId, setCanModifyUsernameId] = useState(true)\r\n  const [showUsernameConfirmModal, setShowUsernameConfirmModal] = useState(false)\r\n  const [usernameIdChangePending, setUsernameIdChangePending] = useState(false)\r\n  const [countdownTimer, setCountdownTimer] = useState<NodeJS.Timeout | null>(null)\r\n  \r\n  // 密码修改表单提交处理\r\n  const handleChangePassword = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    \r\n    // 重置错误和成功信息\r\n    setErrors({})\r\n    setSuccess('')\r\n    \r\n    // 检查user是否存在\r\n    if (!user) {\r\n      setErrors({ submit: '用户信息未加载' })\r\n      return\r\n    }\r\n    \r\n    // 表单验证\r\n    const newErrors: Record<string, string> = {}\r\n    \r\n    // 验证旧密码\r\n    if (!oldPassword.trim()) {\r\n      newErrors.oldPassword = '请输入旧密码'\r\n    }\r\n    \r\n    // 验证新密码\r\n    if (!newPassword.trim()) {\r\n      newErrors.newPassword = '请输入新密码'\r\n    } else if (!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$/.test(newPassword)) {\r\n      newErrors.newPassword = '新密码至少需要8位，包含大小写字母、数字和特殊符号'\r\n    }\r\n    \r\n    // 验证确认密码\r\n    if (!confirmPassword.trim()) {\r\n      newErrors.confirmPassword = '请确认新密码'\r\n    } else if (newPassword !== confirmPassword) {\r\n      newErrors.confirmPassword = '两次输入的密码不一致'\r\n    }\r\n    \r\n    // 普通用户需要验证邮箱验证码\r\n    if (user.name !== '管理员') {\r\n      if (!verificationCode.trim()) {\r\n        newErrors.verificationCode = '请输入邮箱验证码'\r\n      } else if (!codeSent) {\r\n        newErrors.verificationCode = '请先发送验证码'\r\n      }\r\n    }\r\n    \r\n    // 如果有错误，显示错误信息\r\n    if (Object.keys(newErrors).length > 0) {\r\n      setErrors(newErrors)\r\n      return\r\n    }\r\n    \r\n    // 验证验证码\r\n    if (user.name !== '管理员') {\r\n      try {\r\n        const verifyResponse = await fetch(`/api/auth/send-verification-code?email=${encodeURIComponent(user.email)}&code=${encodeURIComponent(verificationCode)}`, {\r\n          method: 'GET'\r\n        })\r\n        \r\n        const verifyResult = await verifyResponse.json()\r\n        \r\n        if (!verifyResult.success) {\r\n          setErrors(prev => ({ ...prev, verificationCode: verifyResult.message }))\r\n          return\r\n        }\r\n      } catch (error) {\r\n        console.error('验证验证码失败:', error)\r\n        setErrors(prev => ({ ...prev, verificationCode: '验证码验证失败，请稍后重试' }))\r\n        return\r\n      }\r\n    }\r\n    \r\n    // 调用密码修改API\r\n    try {\r\n      const response = await fetch(`/api/users/${userId}/password`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'X-User-Id': userId.toString()\r\n        },\r\n        body: JSON.stringify({\r\n          oldPassword,\r\n          newPassword\r\n        })\r\n      })\r\n      \r\n      const result = await response.json()\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(result.message || '密码修改失败')\r\n      }\r\n      \r\n      // 清除表单\r\n      setOldPassword('')\r\n      setNewPassword('')\r\n      setConfirmPassword('')\r\n      setVerificationCode('')\r\n      setCodeSent(false)\r\n      setCountdown(0)\r\n      \r\n      // 显示成功信息\r\n      setSuccess('密码修改成功')\r\n      \r\n      // 3秒后关闭模态框\r\n      setTimeout(() => {\r\n        setShowChangePasswordModal(false)\r\n        setSuccess('')\r\n      }, 3000)\r\n    } catch (error) {\r\n      setErrors(prev => ({ ...prev, submit: (error as Error).message || '密码修改失败，请稍后重试' }))\r\n    }\r\n  }\r\n  \r\n  // 打开个人信息编辑模态框\r\n  const handleOpenEditModal = () => {\r\n    if (!user) return\r\n    \r\n    // 初始化表单数据\r\n    setEditName(user.name || '')\r\n    setEditUsernameId(user.usernameId || '')\r\n    setEditBio(user.bio || '')\r\n    setEditAvatar(user.avatar || '')\r\n    setEditBackgroundImage(user.backgroundImage || '')\r\n    setProfileErrors({})\r\n    setProfileSuccess('')\r\n    setShowEditProfileModal(true)\r\n  }\r\n  \r\n  // 处理头像上传\r\n  const handleAvatarUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0]\r\n    if (!file) return\r\n    \r\n    // 检查文件类型\r\n    const allowedTypes = ['image/jpeg', 'image/png', 'image/gif']\r\n    if (!allowedTypes.includes(file.type)) {\r\n      setProfileErrors(prev => ({ ...prev, avatar: '不支持的文件类型，请上传JPG、PNG或GIF格式的图片' }))\r\n      return\r\n    }\r\n    \r\n    // 检查文件大小（限制为2MB）\r\n    const maxSize = 2 * 1024 * 1024 // 2MB\r\n    if (file.size > maxSize) {\r\n      setProfileErrors(prev => ({ ...prev, avatar: '文件大小超过限制，请上传小于2MB的图片' }))\r\n      return\r\n    }\r\n    \r\n    setIsUploadingAvatar(true)\r\n    \r\n    try {\r\n      // 创建FormData对象，上传文件\r\n      const formData = new FormData()\r\n      formData.append('file', file)\r\n      \r\n      // 调用上传API\r\n      const response = await fetch('/api/upload', {\r\n        method: 'POST',\r\n        body: formData\r\n      })\r\n      \r\n      if (!response.ok) {\r\n        const errorData = await response.json().catch(() => ({}))\r\n        throw new Error(errorData.error || '头像上传失败')\r\n      }\r\n      \r\n      const data = await response.json()\r\n      setEditAvatar(data.url)\r\n      setProfileErrors(prev => ({ ...prev, avatar: '' }))\r\n    } catch (error) {\r\n      setProfileErrors(prev => ({ ...prev, avatar: (error as Error).message || '头像上传失败，请稍后重试' }))\r\n    } finally {\r\n      setIsUploadingAvatar(false)\r\n      // 清空文件输入，允许重新选择同一文件\r\n      e.target.value = ''\r\n    }\r\n  }\r\n  \r\n  // 处理背景图上传\r\n  const handleBackgroundUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0]\r\n    if (!file) return\r\n    \r\n    // 检查文件类型\r\n    const allowedTypes = ['image/jpeg', 'image/png', 'image/gif']\r\n    if (!allowedTypes.includes(file.type)) {\r\n      setProfileErrors(prev => ({ ...prev, backgroundImage: '不支持的文件类型，请上传JPG、PNG或GIF格式的图片' }))\r\n      return\r\n    }\r\n    \r\n    // 检查文件大小（限制为5MB）\r\n    const maxSize = 5 * 1024 * 1024 // 5MB\r\n    if (file.size > maxSize) {\r\n      setProfileErrors(prev => ({ ...prev, backgroundImage: '文件大小超过限制，请上传小于5MB的图片' }))\r\n      return\r\n    }\r\n    \r\n    setIsUploadingBackground(true)\r\n    \r\n    try {\r\n      // 创建FormData对象，上传文件\r\n      const formData = new FormData()\r\n      formData.append('file', file)\r\n      \r\n      // 调用上传API\r\n      const response = await fetch('/api/upload', {\r\n        method: 'POST',\r\n        body: formData\r\n      })\r\n      \r\n      if (!response.ok) {\r\n        const errorData = await response.json().catch(() => ({}))\r\n        throw new Error(errorData.error || '背景图上传失败')\r\n      }\r\n      \r\n      const data = await response.json()\r\n      setEditBackgroundImage(data.url)\r\n      setProfileErrors(prev => ({ ...prev, backgroundImage: '' }))\r\n    } catch (error) {\r\n      setProfileErrors(prev => ({ ...prev, backgroundImage: (error as Error).message || '背景图上传失败，请稍后重试' }))\r\n    } finally {\r\n      setIsUploadingBackground(false)\r\n      // 清空文件输入，允许重新选择同一文件\r\n      e.target.value = ''\r\n    }\r\n  }\r\n  \r\n  // 处理个人信息编辑表单提交\r\n  const handleEditProfile = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    \r\n    // 重置错误和成功信息\r\n    setProfileErrors({})\r\n    setProfileSuccess('')\r\n    \r\n    // 检查user是否存在\r\n    if (!user) {\r\n      setProfileErrors({ submit: '用户信息未加载' })\r\n      return\r\n    }\r\n    \r\n    // 表单验证\r\n    const newErrors: Record<string, string> = {}\r\n    \r\n    // 验证用户名\r\n    if (!editName || !editName.trim()) {\r\n      newErrors.name = '请输入用户名'\r\n    }\r\n    \r\n    // 验证用户名ID\r\n    if (!editUsernameId || !editUsernameId.trim()) {\r\n      newErrors.usernameId = '请输入用户名ID'\r\n    } else if (!/^[a-zA-Z0-9_]{3,20}$/.test(editUsernameId)) {\r\n      newErrors.usernameId = '用户名ID只能包含字母、数字和下划线，长度为3-20个字符'\r\n    }\r\n    \r\n    // 检查用户名ID是否被修改\r\n    const isUsernameIdChanged = user.usernameId !== editUsernameId\r\n    \r\n    // 如果用户名ID被修改，检查是否有修改权限\r\n    if (isUsernameIdChanged) {\r\n      if (!canModifyUsernameId) {\r\n        newErrors.usernameId = `用户名ID只能每720小时修改一次，还需等待${remainingUsernameChangeHours}小时`\r\n      }\r\n    }\r\n    \r\n    // 如果有错误，显示错误信息\r\n    if (Object.keys(newErrors).length > 0) {\r\n      setProfileErrors(newErrors)\r\n      return\r\n    }\r\n    \r\n    // 如果用户名ID被修改，显示确认对话框\r\n    if (isUsernameIdChanged) {\r\n      setUsernameIdChangePending(true)\r\n      setShowUsernameConfirmModal(true)\r\n      return\r\n    }\r\n    \r\n    // 直接提交其他修改\r\n    await submitProfileChanges()\r\n  }\r\n  \r\n  // 确认用户名ID修改\r\n  const confirmUsernameIdChange = async () => {\r\n    setShowUsernameConfirmModal(false)\r\n    await submitProfileChanges()\r\n  }\r\n  \r\n  // 取消用户名ID修改\r\n  const cancelUsernameIdChange = () => {\r\n    setShowUsernameConfirmModal(false)\r\n    setUsernameIdChangePending(false)\r\n  }\r\n  \r\n  // 提交个人信息修改\r\n  const submitProfileChanges = async () => {\r\n    setIsSubmitting(true)\r\n    \r\n    try {\r\n      // 构建更新数据，只包含数据库中存在的字段\r\n    const updateData: Partial<User> = {\r\n      name: editName,\r\n      usernameId: editUsernameId,\r\n      bio: editBio,\r\n      avatar: editAvatar,\r\n      backgroundImage: editBackgroundImage\r\n    }\r\n      \r\n      // 调用API更新用户信息\r\n      const response = await fetch(`/api/users/${userId}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'X-User-Id': userId.toString() // 添加当前用户ID到请求头，用于权限验证\r\n        },\r\n        body: JSON.stringify(updateData)\r\n      })\r\n      \r\n      if (!response.ok) {\r\n        const errorData = await response.json().catch(() => ({}))\r\n        throw new Error(errorData.message || '更新失败')\r\n      }\r\n      \r\n      const updatedUser = await response.json()\r\n      \r\n      // 更新本地状态\r\n      setUser(updatedUser)\r\n      setRemainingUsernameChangeHours(updatedUser.remainingUsernameChangeHours)\r\n      setCanModifyUsernameId(updatedUser.remainingUsernameChangeHours === 0)\r\n      \r\n      // 更新localStorage中的用户信息（如果是当前登录用户）\r\n      const currentUser = JSON.parse(localStorage.getItem('user') || 'null')\r\n      if (currentUser && currentUser.id === userId) {\r\n        localStorage.setItem('user', JSON.stringify(updatedUser))\r\n      }\r\n      \r\n      // 显示成功信息\r\n      setProfileSuccess('个人信息更新成功')\r\n      \r\n      // 3秒后关闭模态框\r\n      setTimeout(() => {\r\n        setShowEditProfileModal(false)\r\n        setProfileSuccess('')\r\n        setUsernameIdChangePending(false)\r\n      }, 3000)\r\n    } catch (error) {\r\n      setProfileErrors(prev => ({\r\n        ...prev, \r\n        submit: (error as Error).message || '更新失败，请稍后重试'\r\n      }))\r\n      setUsernameIdChangePending(false)\r\n    } finally {\r\n      setIsSubmitting(false)\r\n    }\r\n  }\r\n  \r\n  // 发送邮箱验证码\r\n  const handleSendVerificationCode = async () => {\r\n    if (isSendingCode || countdown > 0 || !user) return\r\n    \r\n    setIsSendingCode(true)\r\n    \r\n    try {\r\n      // 调用API发送验证码\r\n      const response = await fetch('/api/auth/send-verification-code', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ email: user.email })\r\n      })\r\n      \r\n      const result = await response.json()\r\n      \r\n      if (result.success) {\r\n        setCodeSent(true)\r\n        setCountdown(60)\r\n        \r\n        // 开始倒计时\r\n        const timer = setInterval(() => {\r\n          setCountdown((prev) => {\r\n            if (prev <= 1) {\r\n              clearInterval(timer)\r\n              return 0\r\n            }\r\n            return prev - 1\r\n          })\r\n        }, 1000)\r\n      } else {\r\n        setErrors(prev => ({ ...prev, verificationCode: result.message || '验证码发送失败，请稍后重试' }))\r\n      }\r\n    } catch (error) {\r\n      console.error('发送验证码失败:', error)\r\n      setErrors(prev => ({ ...prev, verificationCode: '验证码发送失败，请稍后重试' }))\r\n    } finally {\r\n      setIsSendingCode(false)\r\n    }\r\n  }\r\n  \r\n  // 加载用户数据和文章数据\r\n  useEffect(() => {\r\n    const loadData = async () => {\r\n      setIsLoading(true)\r\n      try {\r\n        // 从API获取用户数据\r\n        const userResponse = await fetch(`/api/users/${userId}`)\r\n        if (!userResponse.ok) {\r\n          throw new Error('Failed to fetch user data')\r\n        }\r\n        const userData = await userResponse.json()\r\n        \r\n        // 确保用户数据包含所有必要字段\r\n        const completeUserData = {\r\n          ...userData,\r\n          usernameId: userData.usernameId || `user${userId}`,\r\n          backgroundImage: userData.backgroundImage || '',\r\n          role: userData.role || 'user',\r\n          lastLoginAt: userData.lastLoginAt || null,\r\n          lastUsernameChange: userData.lastUsernameChange || null\r\n        }\r\n        \r\n        // 更新用户状态\r\n        setUser(completeUserData)\r\n        setRemainingUsernameChangeHours(0)\r\n        setCanModifyUsernameId(true)\r\n        \r\n        // 更新localStorage中的用户信息（如果是当前登录用户）\r\n      const currentUser = JSON.parse(localStorage.getItem('user') || 'null')\r\n      if (currentUser && currentUser.id === userId) {\r\n        localStorage.setItem('user', JSON.stringify(completeUserData))\r\n      }\r\n        \r\n        // 从API获取文章数据\r\n        const postsResponse = await fetch('/api/posts')\r\n        if (!postsResponse.ok) {\r\n          throw new Error('Failed to fetch posts')\r\n        }\r\n        const posts = await postsResponse.json() as Post[]\r\n        // 筛选当前用户的文章\r\n        const filteredPosts = posts.filter(post => post.authorId === userId)\r\n        setUserPosts(filteredPosts)\r\n        setPostsCount(filteredPosts.length)\r\n      } catch (error) {\r\n        console.error('Error loading data:', error)\r\n        setUser(null)\r\n        setUserPosts([])\r\n        setPostsCount(0)\r\n      } finally {\r\n        setIsLoading(false)\r\n      }\r\n    }\r\n    \r\n    loadData()\r\n  }, [userId])\r\n  \r\n  // 用户名修改倒计时\r\n  useEffect(() => {\r\n    // 如果有剩余时间，设置倒计时\r\n    if (remainingUsernameChangeHours > 0 && canModifyUsernameId === false) {\r\n      const timer = setInterval(() => {\r\n        setRemainingUsernameChangeHours(prev => {\r\n          if (prev <= 1) {\r\n            setCanModifyUsernameId(true)\r\n            return 0\r\n          }\r\n          return prev - 1\r\n        })\r\n      }, 3600000) // 每小时更新一次\r\n      \r\n      setCountdownTimer(timer)\r\n    }\r\n    \r\n    return () => {\r\n      if (countdownTimer) {\r\n        clearInterval(countdownTimer)\r\n      }\r\n    }\r\n  }, [remainingUsernameChangeHours, canModifyUsernameId])\r\n  \r\n  // 加载状态显示\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\r\n      </div>\r\n    )\r\n  }\r\n  \r\n  // 只有在加载完成后才检查用户是否存在\r\n  if (!user) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-4\">\r\n        <div className=\"text-center max-w-md\">\r\n          <h1 className=\"text-4xl font-bold text-gray-900 mb-4\">用户不存在</h1>\r\n          <p className=\"text-gray-600 mb-8\">抱歉，您访问的用户不存在。</p>\r\n          <Link \r\n            href=\"/\" \r\n            className=\"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 transition-colors\"\r\n          >\r\n            返回首页\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n  \r\n  // 获取状态显示文本和样式\r\n  const getStatusInfo = (status: PostStatus) => {\r\n    switch (status) {\r\n      case 'published':\r\n        return { text: '已发布', className: 'bg-green-100 text-green-800' }\r\n      case 'pending':\r\n        return { text: '审核中', className: 'bg-yellow-100 text-yellow-800' }\r\n      case 'rejected':\r\n        return { text: '未通过', className: 'bg-red-100 text-red-800' }\r\n      default:\r\n        return { text: '未知', className: 'bg-gray-100 text-gray-800' }\r\n    }\r\n  }\r\n  \r\n  return (\r\n    <div className=\"space-y-8\">\r\n      {/* 用户信息卡片 */}\r\n      <div className=\"bg-white rounded-xl shadow-md overflow-hidden\">\r\n        {/* 封面图 */}\r\n        <div className=\"h-32 relative\">\r\n          {user.backgroundImage ? (\r\n            <img\r\n              src={user.backgroundImage}\r\n              alt=\"背景图\"\r\n              className=\"w-full h-full object-cover\"\r\n            />\r\n          ) : (\r\n            <div className=\"h-full bg-gradient-to-r from-blue-500 to-indigo-600\"></div>\r\n          )}\r\n        </div>\r\n        \r\n        {/* 用户信息 */}\r\n        <div className=\"px-6 py-4\">\r\n          <div className=\"flex flex-col md:flex-row items-start md:items-center\">\r\n            {/* 头像 */}\r\n            <div className=\"-mt-16 mr-6\">\r\n              <div className=\"w-32 h-32 rounded-full overflow-hidden border-4 border-white shadow-lg\">\r\n                <img\r\n                  src={user.avatar || 'https://via.placeholder.com/200'}\r\n                  alt={user.name}\r\n                  className=\"w-full h-full object-cover\"\r\n                />\r\n              </div>\r\n            </div>\r\n            \r\n            {/* 基本信息 */}\r\n              <div className=\"flex-1\">\r\n                <div className=\"flex flex-col md:flex-row md:items-center md:justify-between\">\r\n                  <div>\r\n                    <h1 className=\"text-2xl font-bold text-gray-900\">{user.name}</h1>\r\n                    <p className=\"text-sm text-gray-500\">@{user.usernameId}</p>\r\n                  </div>\r\n                  <div className=\"mt-4 md:mt-0 flex gap-3\">\r\n                    {/* 关注按钮 */}\r\n                    <button className=\"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm font-medium transition-colors\">\r\n                      关注\r\n                    </button>\r\n                    \r\n                    {/* 发布文章按钮 - 仅在访问自己的主页时显示 */}\r\n                    {userId === user.id && (\r\n                      <button\r\n                        onClick={() => setShowPostModal(true)}\r\n                        className=\"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-md text-sm font-medium transition-colors flex items-center gap-2\"\r\n                      >\r\n                        <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                          <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z\" />\r\n                        </svg>\r\n                        发布文章\r\n                      </button>\r\n                    )}\r\n                    \r\n                    {/* 编辑个人信息按钮 - 仅在访问自己的主页时显示 */}\r\n                    {userId === user.id && (\r\n                      <button\r\n                        onClick={handleOpenEditModal}\r\n                        className=\"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm font-medium transition-colors flex items-center gap-2\"\r\n                      >\r\n                        <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                          <path d=\"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\" />\r\n                        </svg>\r\n                        编辑资料\r\n                      </button>\r\n                    )}\r\n                    \r\n                    {/* 修改密码按钮 - 仅在访问自己的主页时显示 */}\r\n                    {userId === user.id && (\r\n                      <button\r\n                        onClick={() => setShowChangePasswordModal(true)}\r\n                        className=\"px-4 py-2 bg-yellow-600 hover:bg-yellow-700 text-white rounded-md text-sm font-medium transition-colors flex items-center gap-2\"\r\n                      >\r\n                        <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                          <path d=\"M12 15v-2h3v-3h2v3h3v2h-3v3h-2v-3h-3z\" />\r\n                          <path d=\"M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V6h16v12z\" />\r\n                        </svg>\r\n                        修改密码\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              \r\n              {/* 个人简介 */}\r\n              <p className=\"mt-3 text-gray-600\">{user.bio || '这个人很懒，还没有填写个人简介'}</p>\r\n              \r\n              {/* 统计数据 */}\r\n              <div className=\"mt-4 flex space-x-8\">\r\n                <div className=\"flex items-center\">\r\n                  <span className=\"font-semibold text-gray-900 mr-1\">{postsCount}</span>\r\n                  <span className=\"text-gray-500\">文章</span>\r\n                </div>\r\n                <div className=\"flex items-center\">\r\n                  <span className=\"font-semibold text-gray-900 mr-1\">{followersCount}</span>\r\n                  <span className=\"text-gray-500\">粉丝</span>\r\n                </div>\r\n                <div className=\"flex items-center\">\r\n                  <span className=\"font-semibold text-gray-900 mr-1\">{followingCount}</span>\r\n                  <span className=\"text-gray-500\">关注</span>\r\n                </div>\r\n              </div>\r\n              \r\n              {/* 注册时间 */}\r\n              <p className=\"mt-3 text-sm text-gray-500\">\r\n                注册于 {new Date(user.createdAt).toLocaleDateString()}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* 用户文章列表 */}\r\n      <div className=\"bg-white rounded-xl shadow-md overflow-hidden\">\r\n        <div className=\"px-6 py-4 border-b border-gray-200\">\r\n          <h2 className=\"text-xl font-bold text-gray-900\">发布的文章</h2>\r\n        </div>\r\n        \r\n        <div className=\"divide-y divide-gray-200\">\r\n          {userPosts.map((post) => {\r\n            const statusInfo = getStatusInfo(post.status)\r\n            const category = mockCategories.find(c => c.id === post.categoryId) || { name: '未分类' }\r\n            \r\n            return (\r\n              <div key={post.id} className=\"p-6\">\r\n                <div className=\"flex flex-col md:flex-row gap-6\">\r\n                  {/* 文章图片 */}\r\n                  {post.image && (\r\n                    <div className=\"w-full md:w-48 h-32 rounded-lg overflow-hidden flex-shrink-0\">\r\n                      <img\r\n                        src={post.image}\r\n                        alt={post.title}\r\n                        className=\"w-full h-full object-cover\"\r\n                      />\r\n                    </div>\r\n                  )}\r\n                  \r\n                  {/* 文章内容 */}\r\n                  <div className=\"flex-1\">\r\n                    <div className=\"flex items-center text-sm text-gray-500 mb-2\">\r\n                      <span className=\"bg-blue-100 text-blue-800 text-xs font-medium px-3 py-1 rounded-full mr-3\">\r\n                        {category.name}\r\n                      </span>\r\n                      <span className={`text-xs font-medium px-3 py-1 rounded-full mr-3 ${statusInfo.className}`}>\r\n                        {statusInfo.text}\r\n                      </span>\r\n                      <span>{new Date(post.createdAt).toLocaleDateString()}</span>\r\n                    </div>\r\n                    \r\n                    <h3 className=\"text-xl font-bold text-gray-900 mb-2\">\r\n                      <Link href={`/posts/${post.id}`} className=\"hover:text-blue-600 transition-colors\">\r\n                        {post.title}\r\n                      </Link>\r\n                    </h3>\r\n                    \r\n                    <p className=\"text-gray-600 mb-4 line-clamp-2\">{post.excerpt}</p>\r\n                    \r\n                    {/* 拒绝原因 */}\r\n                    {post.status === 'rejected' && post.rejectionReason && (\r\n                      <div className=\"mt-2 p-3 bg-red-50 border border-red-100 rounded-md\">\r\n                        <p className=\"text-sm text-red-700\">\r\n                          <strong>未通过原因:</strong> {post.rejectionReason}\r\n                        </p>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )\r\n          })}\r\n        </div>\r\n        \r\n        {/* 空状态 */}\r\n        {userPosts.length === 0 && (\r\n          <div className=\"px-6 py-12 text-center\">\r\n            <svg className=\"w-16 h-16 text-gray-400 mx-auto mb-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\r\n            </svg>\r\n            <p className=\"text-gray-500\">该用户还没有发布任何文章</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n      \r\n      {/* 修改密码模态框 */}\r\n      {showChangePasswordModal && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-white rounded-xl shadow-2xl max-w-md w-full\">\r\n            {/* 模态框头部 */}\r\n            <div className=\"flex justify-between items-center px-6 py-4 border-b border-gray-200\">\r\n              <h2 className=\"text-xl font-bold text-gray-900\">修改密码</h2>\r\n              <button\r\n                onClick={() => setShowChangePasswordModal(false)}\r\n                className=\"text-gray-400 hover:text-gray-600\"\r\n              >\r\n                <svg className=\"w-6 h-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                </svg>\r\n              </button>\r\n            </div>\r\n            \r\n            {/* 模态框内容 */}\r\n            <div className=\"px-6 py-6\">\r\n              {/* 成功信息 */}\r\n              {success && (\r\n                <div className=\"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-md mb-4\">\r\n                  {success}\r\n                </div>\r\n              )}\r\n              \r\n              <form className=\"space-y-4\" onSubmit={handleChangePassword}>\r\n                {/* 旧密码 */}\r\n                <div>\r\n                  <label htmlFor=\"oldPassword\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    旧密码\r\n                  </label>\r\n                  <input\r\n                    type=\"password\"\r\n                    id=\"oldPassword\"\r\n                    value={oldPassword}\r\n                    onChange={(e) => setOldPassword(e.target.value)}\r\n                    className={`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${errors.oldPassword ? 'border-red-500' : 'border-gray-300'}`}\r\n                    placeholder=\"请输入旧密码\"\r\n                  />\r\n                  {errors.oldPassword && (\r\n                    <p className=\"mt-1 text-sm text-red-600\">{errors.oldPassword}</p>\r\n                  )}\r\n                </div>\r\n                \r\n                {/* 新密码 */}\r\n                <div>\r\n                  <label htmlFor=\"newPassword\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    新密码\r\n                  </label>\r\n                  <input\r\n                    type=\"password\"\r\n                    id=\"newPassword\"\r\n                    value={newPassword}\r\n                    onChange={(e) => setNewPassword(e.target.value)}\r\n                    className={`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${errors.newPassword ? 'border-red-500' : 'border-gray-300'}`}\r\n                    placeholder=\"请输入新密码\"\r\n                  />\r\n                  {errors.newPassword && (\r\n                    <p className=\"mt-1 text-sm text-red-600\">{errors.newPassword}</p>\r\n                  )}\r\n                </div>\r\n                \r\n                {/* 确认新密码 */}\r\n                <div>\r\n                  <label htmlFor=\"confirmPassword\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    确认新密码\r\n                  </label>\r\n                  <input\r\n                    type=\"password\"\r\n                    id=\"confirmPassword\"\r\n                    value={confirmPassword}\r\n                    onChange={(e) => setConfirmPassword(e.target.value)}\r\n                    className={`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${errors.confirmPassword ? 'border-red-500' : 'border-gray-300'}`}\r\n                    placeholder=\"请再次输入新密码\"\r\n                  />\r\n                  {errors.confirmPassword && (\r\n                    <p className=\"mt-1 text-sm text-red-600\">{errors.confirmPassword}</p>\r\n                  )}\r\n                </div>\r\n                \r\n                {/* 邮箱验证 - 普通用户需要 */}\r\n                {user.name !== '管理员' && (\r\n                  <div>\r\n                    <label htmlFor=\"verificationCode\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                      邮箱验证码\r\n                    </label>\r\n                    <div className=\"flex gap-2\">\r\n                      <input\r\n                        type=\"text\"\r\n                        id=\"verificationCode\"\r\n                        value={verificationCode}\r\n                        onChange={(e) => setVerificationCode(e.target.value)}\r\n                        className={`flex-1 px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${errors.verificationCode ? 'border-red-500' : 'border-gray-300'}`}\r\n                        placeholder=\"请输入邮箱验证码\"\r\n                      />\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={handleSendVerificationCode}\r\n                        disabled={isSendingCode || countdown > 0}\r\n                        className={`px-4 py-2 rounded-md text-sm font-medium transition-colors ${isSendingCode || countdown > 0 ? 'bg-gray-400 cursor-not-allowed' : 'bg-blue-600 hover:bg-blue-700 text-white'}`}\r\n                      >\r\n                        {isSendingCode ? '发送中...' : countdown > 0 ? `${countdown}s后重试` : '发送验证码'}\r\n                      </button>\r\n                    </div>\r\n                    {errors.verificationCode && (\r\n                      <p className=\"mt-1 text-sm text-red-600\">{errors.verificationCode}</p>\r\n                    )}\r\n                  </div>\r\n                )}\r\n                \r\n                {/* 模态框底部 */}\r\n                <div className=\"flex justify-end gap-3 pt-4 border-t border-gray-200\">\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setShowChangePasswordModal(false)}\r\n                    className=\"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors\"\r\n                  >\r\n                    取消\r\n                  </button>\r\n                  <button\r\n                    type=\"submit\"\r\n                    className=\"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm font-medium transition-colors\"\r\n                  >\r\n                    确认修改\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* 个人信息编辑模态框 */}\r\n      {showEditProfileModal && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-white rounded-xl shadow-2xl max-w-2xl w-full\">\r\n            {/* 模态框头部 */}\r\n            <div className=\"flex justify-between items-center px-6 py-4 border-b border-gray-200\">\r\n              <h2 className=\"text-xl font-bold text-gray-900\">编辑个人信息</h2>\r\n              <button\r\n                onClick={() => setShowEditProfileModal(false)}\r\n                className=\"text-gray-400 hover:text-gray-600\"\r\n              >\r\n                <svg className=\"w-6 h-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                </svg>\r\n              </button>\r\n            </div>\r\n            \r\n            {/* 模态框内容 */}\r\n            <div className=\"px-6 py-6\">\r\n              {/* 成功信息 */}\r\n              {profileSuccess && (\r\n                <div className=\"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-md mb-4\">\r\n                  {profileSuccess}\r\n                </div>\r\n              )}\r\n              \r\n              <form className=\"space-y-6\" onSubmit={handleEditProfile}>\r\n                {/* 头像上传 */}\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    头像\r\n                  </label>\r\n                  <div className=\"flex items-center gap-4\">\r\n                    <div className=\"w-20 h-20 rounded-full overflow-hidden border-2 border-gray-200\">\r\n                      <img\r\n                        src={editAvatar}\r\n                        alt=\"头像预览\"\r\n                        className=\"w-full h-full object-cover\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <input\r\n                        type=\"file\"\r\n                        id=\"avatarUpload\"\r\n                        accept=\"image/jpeg,image/png,image/gif\"\r\n                        onChange={handleAvatarUpload}\r\n                        className=\"hidden\"\r\n                      />\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() => document.getElementById('avatarUpload')?.click()}\r\n                        disabled={isUploadingAvatar}\r\n                        className={`px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm font-medium transition-colors ${isUploadingAvatar ? 'bg-gray-400 cursor-not-allowed' : ''}`}\r\n                      >\r\n                        {isUploadingAvatar ? '上传中...' : '上传头像'}\r\n                      </button>\r\n                      {profileErrors.avatar && (\r\n                        <p className=\"mt-1 text-sm text-red-600\">{profileErrors.avatar}</p>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                {/* 背景图上传 */}\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    背景图\r\n                  </label>\r\n                  <div className=\"flex flex-col gap-3\">\r\n                    <div className=\"h-32 rounded-lg overflow-hidden border-2 border-gray-200\">\r\n                      <img\r\n                        src={editBackgroundImage || 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=800&h=200&fit=crop'}\r\n                        alt=\"背景图预览\"\r\n                        className=\"w-full h-full object-cover\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <input\r\n                        type=\"file\"\r\n                        id=\"backgroundUpload\"\r\n                        accept=\"image/jpeg,image/png,image/gif\"\r\n                        onChange={handleBackgroundUpload}\r\n                        className=\"hidden\"\r\n                      />\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() => document.getElementById('backgroundUpload')?.click()}\r\n                        disabled={isUploadingBackground}\r\n                        className={`px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm font-medium transition-colors ${isUploadingBackground ? 'bg-gray-400 cursor-not-allowed' : ''}`}\r\n                      >\r\n                        {isUploadingBackground ? '上传中...' : '上传背景图'}\r\n                      </button>\r\n                      {profileErrors.backgroundImage && (\r\n                        <p className=\"mt-1 text-sm text-red-600\">{profileErrors.backgroundImage}</p>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                {/* 用户名 */}\r\n                <div>\r\n                  <label htmlFor=\"editName\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    用户名\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"editName\"\r\n                    value={editName}\r\n                    onChange={(e) => setEditName(e.target.value)}\r\n                    className={`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${profileErrors.name ? 'border-red-500' : 'border-gray-300'}`}\r\n                    placeholder=\"请输入用户名\"\r\n                  />\r\n                  {profileErrors.name && (\r\n                    <p className=\"mt-1 text-sm text-red-600\">{profileErrors.name}</p>\r\n                  )}\r\n                </div>\r\n                \r\n                {/* 用户名ID */}\r\n                <div>\r\n                  <label htmlFor=\"editUsernameId\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    用户名ID\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"editUsernameId\"\r\n                    value={editUsernameId}\r\n                    onChange={(e) => setEditUsernameId(e.target.value)}\r\n                    disabled={!canModifyUsernameId}\r\n                    className={`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${profileErrors.usernameId ? 'border-red-500' : 'border-gray-300'} ${!canModifyUsernameId ? 'bg-gray-100 cursor-not-allowed' : ''}`}\r\n                    placeholder=\"请输入用户名ID\"\r\n                  />\r\n                  {profileErrors.usernameId && (\r\n                    <p className=\"mt-1 text-sm text-red-600\">{profileErrors.usernameId}</p>\r\n                  )}\r\n                  {!canModifyUsernameId && (\r\n                    <p className=\"mt-1 text-sm text-yellow-600\">\r\n                      用户名ID只能每720小时修改一次，还需等待：{remainingUsernameChangeHours}小时\r\n                    </p>\r\n                  )}\r\n                  {canModifyUsernameId && (\r\n                    <p className=\"mt-1 text-sm text-gray-500\">\r\n                      用户名ID每720小时可修改一次\r\n                    </p>\r\n                  )}\r\n                </div>\r\n                \r\n                {/* 个人简介 */}\r\n                <div>\r\n                  <label htmlFor=\"editBio\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    个人简介\r\n                  </label>\r\n                  <textarea\r\n                    id=\"editBio\"\r\n                    value={editBio}\r\n                    onChange={(e) => setEditBio(e.target.value)}\r\n                    rows={3}\r\n                    className=\"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none\"\r\n                    placeholder=\"请输入个人简介\"\r\n                  ></textarea>\r\n                </div>\r\n                \r\n                {/* 模态框底部 */}\r\n                <div className=\"flex justify-end gap-3 pt-4 border-t border-gray-200\">\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setShowEditProfileModal(false)}\r\n                    className=\"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors\"\r\n                  >\r\n                    取消\r\n                  </button>\r\n                  <button\r\n                    type=\"submit\"\r\n                    disabled={isSubmitting}\r\n                    className={`px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm font-medium transition-colors ${isSubmitting ? 'bg-gray-400 cursor-not-allowed' : ''}`}\r\n                  >\r\n                    {isSubmitting ? '保存中...' : '保存修改'}\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* 用户名ID修改确认模态框 */}\r\n      {showUsernameConfirmModal && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-white rounded-xl shadow-2xl max-w-md w-full\">\r\n            {/* 模态框头部 */}\r\n            <div className=\"px-6 py-4 border-b border-gray-200\">\r\n              <h2 className=\"text-xl font-bold text-gray-900\">确认修改用户名ID</h2>\r\n            </div>\r\n            \r\n            {/* 模态框内容 */}\r\n            <div className=\"px-6 py-6\">\r\n              <p className=\"text-gray-600 mb-4\">\r\n                您确定要将用户名ID从 <strong>@{user.usernameId}</strong> 修改为 <strong>@{editUsernameId}</strong> 吗？\r\n              </p>\r\n              <p className=\"text-yellow-600 text-sm mb-6\">\r\n                注意：用户名ID修改后，您将需要等待720小时才能再次修改。\r\n              </p>\r\n              \r\n              {/* 模态框底部 */}\r\n              <div className=\"flex justify-end gap-3\">\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={cancelUsernameIdChange}\r\n                  className=\"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors\"\r\n                >\r\n                  取消\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={confirmUsernameIdChange}\r\n                  disabled={isSubmitting}\r\n                  className={`px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm font-medium transition-colors ${isSubmitting ? 'bg-gray-400 cursor-not-allowed' : ''}`}\r\n                >\r\n                  {isSubmitting ? '确认中...' : '确认修改'}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* 发布文章弹窗 */}\r\n      <PostEditorModal\r\n        isOpen={showPostModal}\r\n        onClose={() => setShowPostModal(false)}\r\n        isAdmin={false}\r\n      />\r\n    </div>\r\n  )\r\n}"],"names":[],"mappings":"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"}}]
}