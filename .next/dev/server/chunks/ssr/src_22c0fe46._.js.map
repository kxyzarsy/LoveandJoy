{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/MyBlog/LoveandJoy/src/utils/error-handler.ts"],"sourcesContent":["/**\n * 统一错误处理工具\n * 用于在整个应用中实现一致的错误捕获、处理和返回机制\n */\n\n// 基础错误代码枚举\nexport enum ErrorCode {\n  // 通用错误\n  INTERNAL_SERVER_ERROR = 'INTERNAL_SERVER_ERROR',\n  BAD_REQUEST = 'BAD_REQUEST',\n  NOT_FOUND = 'NOT_FOUND',\n  UNAUTHORIZED = 'UNAUTHORIZED',\n  FORBIDDEN = 'FORBIDDEN',\n  CONFLICT = 'CONFLICT',\n  VALIDATION_ERROR = 'VALIDATION_ERROR',\n  NETWORK_ERROR = 'NETWORK_ERROR',\n  TIMEOUT_ERROR = 'TIMEOUT_ERROR',\n  SERVICE_UNAVAILABLE = 'SERVICE_UNAVAILABLE',\n  RATE_LIMIT_EXCEEDED = 'RATE_LIMIT_EXCEEDED',\n  UNPROCESSABLE_ENTITY = 'UNPROCESSABLE_ENTITY',\n  TOO_MANY_REQUESTS = 'TOO_MANY_REQUESTS',\n  \n  // 认证相关\n  AUTHENTICATION_ERROR = 'AUTHENTICATION_ERROR',\n  AUTHORIZATION_ERROR = 'AUTHORIZATION_ERROR',\n  TOKEN_ERROR = 'TOKEN_ERROR',\n  SESSION_ERROR = 'SESSION_ERROR',\n  \n  // 数据库相关\n  DATABASE_ERROR = 'DATABASE_ERROR',\n  TRANSACTION_ERROR = 'TRANSACTION_ERROR',\n  CONSTRAINT_ERROR = 'CONSTRAINT_ERROR',\n  FOREIGN_KEY_ERROR = 'FOREIGN_KEY_ERROR',\n  UNIQUE_CONSTRAINT_ERROR = 'UNIQUE_CONSTRAINT_ERROR',\n  \n  // 业务相关\n  USER_ERROR = 'USER_ERROR',\n  POST_ERROR = 'POST_ERROR',\n  CATEGORY_ERROR = 'CATEGORY_ERROR',\n  COMMENT_ERROR = 'COMMENT_ERROR',\n  \n  // 安全相关\n  SECURITY_ERROR = 'SECURITY_ERROR',\n  VALIDATION_FAILED = 'VALIDATION_FAILED',\n}\n\n// 统一错误响应接口\nexport interface ErrorResponse {\n  error: {\n    code: ErrorCode;\n    message: string;\n    details?: any;\n    timestamp: string;\n    requestId?: string;\n  };\n  success: false;\n}\n\n// 自定义错误类\nexport class AppError extends Error {\n  constructor(\n    public code: ErrorCode,\n    message: string,\n    public details?: any,\n    public requestId?: string\n  ) {\n    super(message);\n    this.name = 'AppError';\n    Error.captureStackTrace(this, this.constructor);\n  }\n}\n\n// 生成唯一请求ID\nconst generateRequestId = (): string => {\n  return Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);\n};\n\n// 创建错误响应\nexport const createErrorResponse = (error: AppError | Error, requestId?: string): ErrorResponse => {\n  const timestamp = new Date().toISOString();\n  const reqId = requestId || generateRequestId();\n  \n  if (error instanceof AppError) {\n    return {\n      success: false,\n      error: {\n        code: error.code,\n        message: error.message,\n        details: error.details,\n        timestamp,\n        requestId: error.requestId || reqId,\n      },\n    };\n  }\n  \n  // 处理未知错误\n  return {\n    success: false,\n    error: {\n      code: ErrorCode.INTERNAL_SERVER_ERROR,\n      message: error.message || 'An unexpected error occurred',\n      details: process.env.NODE_ENV === 'development' ? error.stack : undefined,\n      timestamp,\n      requestId: reqId,\n    },\n  };\n};\n\n// 错误处理中间件（用于API路由）\nexport const handleApiError = async (\n  fn: () => Promise<Response>,\n  requestId?: string\n): Promise<Response> => {\n  try {\n    return await fn();\n  } catch (error) {\n    const errorResponse = createErrorResponse(error as Error, requestId);\n    \n    // 根据错误代码设置HTTP状态码\n    const statusCode = getStatusCodeForError(errorResponse.error.code);\n    \n    return new Response(JSON.stringify(errorResponse), {\n      status: statusCode,\n      headers: {\n        'Content-Type': 'application/json',\n        'X-Request-ID': errorResponse.error.requestId!,\n      },\n    });\n  }\n};\n\n// 获取错误对应的HTTP状态码\nconst getStatusCodeForError = (code: ErrorCode): number => {\n  const statusMap: Record<ErrorCode, number> = {\n    [ErrorCode.BAD_REQUEST]: 400,\n    [ErrorCode.NOT_FOUND]: 404,\n    [ErrorCode.UNAUTHORIZED]: 401,\n    [ErrorCode.FORBIDDEN]: 403,\n    [ErrorCode.CONFLICT]: 409,\n    [ErrorCode.VALIDATION_ERROR]: 400,\n    [ErrorCode.VALIDATION_FAILED]: 400,\n    [ErrorCode.NETWORK_ERROR]: 503,\n    [ErrorCode.TIMEOUT_ERROR]: 504,\n    [ErrorCode.SERVICE_UNAVAILABLE]: 503,\n    [ErrorCode.RATE_LIMIT_EXCEEDED]: 429,\n    [ErrorCode.UNPROCESSABLE_ENTITY]: 422,\n    [ErrorCode.TOO_MANY_REQUESTS]: 429,\n    [ErrorCode.AUTHENTICATION_ERROR]: 401,\n    [ErrorCode.AUTHORIZATION_ERROR]: 403,\n    [ErrorCode.TOKEN_ERROR]: 401,\n    [ErrorCode.SESSION_ERROR]: 401,\n    [ErrorCode.DATABASE_ERROR]: 500,\n    [ErrorCode.TRANSACTION_ERROR]: 500,\n    [ErrorCode.CONSTRAINT_ERROR]: 400,\n    [ErrorCode.FOREIGN_KEY_ERROR]: 400,\n    [ErrorCode.UNIQUE_CONSTRAINT_ERROR]: 409,\n    [ErrorCode.USER_ERROR]: 400,\n    [ErrorCode.POST_ERROR]: 400,\n    [ErrorCode.CATEGORY_ERROR]: 400,\n    [ErrorCode.COMMENT_ERROR]: 400,\n    [ErrorCode.SECURITY_ERROR]: 403,\n    [ErrorCode.INTERNAL_SERVER_ERROR]: 500,\n  };\n  \n  return statusMap[code] || 500;\n};\n\n// 验证错误处理\nexport const handleValidationError = (errors: any[]): AppError => {\n  return new AppError(\n    ErrorCode.VALIDATION_ERROR,\n    'Validation failed',\n    { errors }\n  );\n};\n\n// 数据库错误处理\nexport const handleDatabaseError = (error: any): AppError => {\n  let code = ErrorCode.DATABASE_ERROR;\n  let message = 'Database operation failed';\n  \n  // 根据错误信息识别具体错误类型\n  if (error.code) {\n    switch (error.code) {\n      case 'ER_DUP_ENTRY':\n        code = ErrorCode.UNIQUE_CONSTRAINT_ERROR;\n        message = 'Duplicate entry';\n        break;\n      case 'ER_NO_REFERENCED_ROW_2':\n      case 'ER_ROW_IS_REFERENCED_2':\n        code = ErrorCode.FOREIGN_KEY_ERROR;\n        message = 'Foreign key constraint violation';\n        break;\n      case 'ER_BAD_NULL_ERROR':\n        code = ErrorCode.CONSTRAINT_ERROR;\n        message = 'Not null constraint violation';\n        break;\n      default:\n        break;\n    }\n  }\n  \n  return new AppError(code, message, process.env.NODE_ENV === 'development' ? error : undefined);\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 183, "column": 0}, "map": {"version":3,"sources":["file:///D:/MyBlog/LoveandJoy/src/app/page.tsx"],"sourcesContent":["'use client'\r\n\r\nimport Link from 'next/link'\r\nimport { useState, useEffect } from 'react'\r\nimport { createErrorResponse } from '../utils/error-handler'\r\n\r\n// 文章类型定义\r\ninterface Post {\r\n  id: number\r\n  title: string\r\n  excerpt: string\r\n  content: string\r\n  categoryId: number\r\n  image: string\r\n  status: 'published' | 'pending' | 'rejected'\r\n  foundSensitiveWords: string[]\r\n  createdAt: string\r\n  authorId: number\r\n  reviewedBy: number | null\r\n  reviewedAt: string | null\r\n  rejectionReason: string | null\r\n  likes: number // 点赞数\r\n  category?: { name: string; slug: string }\r\n  author?: { name: string }\r\n}\r\n\r\nexport default function Home() {\r\n  // 状态管理\r\n  const [posts, setPosts] = useState<Post[]>([])\r\n  const [isLoading, setIsLoading] = useState(true)\r\n  const [error, setError] = useState<string | null>(null)\r\n  \r\n  // 从API获取文章数据\r\n  useEffect(() => {\r\n    const fetchPosts = async () => {\r\n      setIsLoading(true)\r\n      \r\n      try {\r\n        // 从API获取文章数据\r\n        const response = await fetch('/api/posts')\r\n        if (!response.ok) {\r\n          throw response\r\n        }\r\n        let postsData: Post[] = await response.json()\r\n        \r\n        // 为没有点赞数的文章添加默认点赞数\r\n        postsData = postsData.map(post => ({\r\n          ...post,\r\n          likes: post.likes || 0\r\n        }))\r\n        \r\n        // 为没有状态的文章添加默认状态为已发布\r\n        postsData = postsData.map(post => ({\r\n          ...post,\r\n          status: post.status || 'published'\r\n        }))\r\n        \r\n        // 只显示已发布的文章\r\n        postsData = postsData.filter(post => post.status === 'published')\r\n        \r\n        // 按点赞量降序排序\r\n        postsData.sort((a, b) => b.likes - a.likes)\r\n        \r\n        setPosts(postsData)\r\n        setError(null)\r\n      } catch (error) {\r\n        // 处理错误\r\n        const errorResponse = createErrorResponse(error as Error)\r\n        setError(errorResponse.error.message)\r\n        \r\n        // 记录日志\r\n        securityLogger.logApiCall(\r\n          '首页文章获取失败',\r\n          {\r\n            ipAddress: 'client-side',\r\n            action: 'FETCH_POSTS',\r\n            resource: '/api/posts',\r\n            status: 'FAILURE',\r\n            details: { error: error instanceof Error ? error.message : 'Unknown error' }\r\n          }\r\n        )\r\n      } finally {\r\n        setIsLoading(false)\r\n      }\r\n    }\r\n    \r\n    // 初始化获取数据\r\n    fetchPosts()\r\n    \r\n    // 每天12点更新数据\r\n    const now = new Date()\r\n    const nextNoon = new Date(now)\r\n    nextNoon.setHours(12, 0, 0, 0)\r\n    if (now > nextNoon) {\r\n      nextNoon.setDate(nextNoon.getDate() + 1)\r\n    }\r\n    const timeUntilNoon = nextNoon.getTime() - now.getTime()\r\n    \r\n    const updateInterval = setTimeout(() => {\r\n      fetchPosts()\r\n      // 之后每天更新一次\r\n      setInterval(fetchPosts, 24 * 60 * 60 * 1000)\r\n    }, timeUntilNoon)\r\n    \r\n    // 清理函数\r\n    return () => {\r\n      clearTimeout(updateInterval)\r\n    }\r\n  }, [])\r\n  \r\n  // 加载状态\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex justify-center items-center py-12\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // 错误状态\r\n  if (error) {\r\n    return (\r\n      <div className=\"bg-white rounded-xl shadow-sm p-8 text-center\">\r\n        <div className=\"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n          <svg className=\"w-8 h-8 text-red-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n          </svg>\r\n        </div>\r\n        <h2 className=\"text-2xl font-bold text-gray-800 mb-2\">加载失败</h2>\r\n        <p className=\"text-gray-600 mb-6\">{error}</p>\r\n        <button\r\n          onClick={() => window.location.reload()}\r\n          className=\"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors\"\r\n        >\r\n          重试\r\n        </button>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-12\">\r\n      {/* 博客头部区域 */}\r\n      <section className=\"text-center py-12 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl shadow-sm\">\r\n        <h1 className=\"text-4xl md:text-5xl font-bold text-gray-900 mb-4\">我的技术博客</h1>\r\n        <p className=\"text-lg text-gray-600 max-w-2xl mx-auto\">\r\n          分享技术见解、生活感悟和学习心得，记录成长的每一步\r\n        </p>\r\n      </section>\r\n\r\n      {/* 热门文章标题 */}\r\n      <div className=\"flex justify-between items-center\">\r\n        <h2 className=\"text-3xl font-bold text-gray-900\">热门文章</h2>\r\n        <Link \r\n          href=\"/all-posts\" \r\n          className=\"text-blue-600 font-medium hover:text-blue-800 transition-colors\"\r\n        >\r\n          查看全部文章\r\n        </Link>\r\n      </div>\r\n\r\n      {/* 文章卡片网格 - 只显示前3篇 */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">\r\n        {posts.slice(0, 3).map((post) => (\r\n          <article \r\n            key={post.id} \r\n            className=\"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1\"\r\n          >\r\n            {/* 文章图片 */}\r\n            {post.image && (\r\n              <div className=\"relative h-48 overflow-hidden\">\r\n                <img \r\n                  src={post.image} \r\n                  alt={post.title} \r\n                  className=\"w-full h-full object-cover transition-transform duration-500 hover:scale-110\"\r\n                />\r\n                <div className=\"absolute top-3 left-3\">\r\n                  <span className=\"bg-blue-100 text-blue-800 text-xs font-medium px-3 py-1 rounded-full\">\r\n                    {post.category?.name || '未分类'}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            )}\r\n            \r\n            {/* 文章内容 */}\r\n            <div className=\"p-6\">\r\n              <div className=\"flex items-center text-sm text-gray-500 mb-3\">\r\n                <span className=\"flex items-center\">\r\n                  <svg className=\"w-4 h-4 mr-1\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                    <path fillRule=\"evenodd\" d=\"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z\" clipRule=\"evenodd\" />\r\n                  </svg>\r\n                  {new Date(post.createdAt).toLocaleDateString()}\r\n                </span>\r\n                <span className=\"mx-2\">•</span>\r\n                <span className=\"flex items-center\">\r\n                  <svg className=\"w-4 h-4 mr-1\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                    <path fillRule=\"evenodd\" d=\"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z\" clipRule=\"evenodd\" />\r\n                  </svg>\r\n                  {post.author?.name || '未知作者'}\r\n                </span>\r\n              </div>\r\n              \r\n              <h3 className=\"text-xl font-bold text-gray-900 mb-3 line-clamp-2\">\r\n                <Link href={`/posts/${post.id}`} className=\"hover:text-blue-600 transition-colors\">\r\n                  {post.title}\r\n                </Link>\r\n              </h3>\r\n              \r\n              <p className=\"text-gray-600 mb-4 line-clamp-3\">{post.excerpt}</p>\r\n              \r\n              <div className=\"flex justify-between items-center mt-4\">\r\n                <Link \r\n                  href={`/posts/${post.id}`} \r\n                  className=\"inline-flex items-center text-blue-600 font-medium hover:text-blue-800 transition-colors group\"\r\n                >\r\n                  阅读更多\r\n                  <svg className=\"ml-2 h-4 w-4 transition-transform group-hover:translate-x-1\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M14 5l7 7m0 0l-7 7m7-7H3\" />\r\n                  </svg>\r\n                </Link>\r\n                <div className=\"flex items-center text-gray-500\">\r\n                  <svg className=\"w-4 h-4 mr-1\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path d=\"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z\" />\r\n                  </svg>\r\n                  <span>{post.likes}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </article>\r\n        ))}\r\n      </div>\r\n\r\n      {/* 查看全部文章按钮 */}\r\n      <div className=\"flex justify-center\">\r\n        <Link \r\n          href=\"/all-posts\" \r\n          className=\"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 transition-colors\"\r\n        >\r\n          查看全部文章\r\n          <svg className=\"ml-2 h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M14 5l7 7m0 0l-7 7m7-7H3\" />\r\n          </svg>\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  )\r\n}"],"names":[],"mappings":"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"}}]
}